<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Ntp-wait User&rsquo;s Manual</title>

<meta name="description" content="Ntp-wait User&rsquo;s Manual">
<meta name="keywords" content="Ntp-wait User&rsquo;s Manual">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="#Top" rel="start" title="Top">
<link href="dir.html#Top" rel="up" title="(dir)">
<link href="dir.html#Top" rel="prev" title="(dir)">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">





<a class="node-id" id="Top"></a><div class="nav-panel">
<p>
Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
</div>
<h1 class="node"><span>Top<a class="copiable-link" href="#Top"> &para;</a></span></h1>

<p>This document describes the use of the NTP Project&rsquo;s <code class="code">ntp-wait</code> program.
</p>
<p>If there are time-sensitive applications,
the proper sequence of events is to
run <code class="code">ntpd -g</code> as early as possible,
then invoke all of the non-time-sensitive process,
run <code class="code">ntp-wait</code> to block
until the system&rsquo;s time has stabilized and synchronized,
and only then start any applicaitons (like database servers) that require
accurate and stable time.
</p>
<p>This document applies to version 4.2.8p17 of <code class="code">ntp-wait</code>.
</p>


<hr>
<div class="section-level-extent" id="ntp_002dwait-Invocation">
<div class="nav-panel">
</div>
<h3 class="section" id="Invoking-ntp_002dwait"><span>1 Invoking ntp-wait<a class="copiable-link" href="#Invoking-ntp_002dwait"> &para;</a></span></h3>
<a class="index-entry-id" id="index-ntp_002dwait"></a>
<a class="index-entry-id" id="index-Wait-for-ntpd-to-stabilize-the-system-clock"></a>



<p><code class="code">ntp-wait</code>
will send at most
<kbd class="kbd">num-tries</kbd>
queries to
<code class="code">ntpd(8)</code>,
sleeping for
<kbd class="kbd">secs-between-tries</kbd>
after each status return that says
<code class="code">ntpd(8)</code>
has not yet produced a synchronized and stable system clock.
</p>
<p><code class="code">ntp-wait</code>
will do this quietly, unless the
<code class="code">-v</code>
flag is provided.
This can be useful at boot time, to delay the boot sequence until after
<kbd class="kbd">ntpd</kbd> <kbd class="kbd">-g</kbd>
has set the time.
</p>
<p>This section was generated by <strong class="strong">AutoGen</strong>,
using the <code class="code">agtexi-cmd</code> template and the option descriptions for the <code class="code">ntp-wait</code> program.
</p>

<ul class="mini-toc">
<li><a href="#ntp_002dwait-usage" accesskey="1">ntp-wait help/usage (<samp class="option">--help</samp>)</a></li>
<li><a href="#ntp_002dwait-tries" accesskey="2">tries option (-n)</a></li>
<li><a href="#ntp_002dwait-sleep" accesskey="3">sleep option (-s)</a></li>
<li><a href="#ntp_002dwait-verbose" accesskey="4">verbose option (-v)</a></li>
<li><a href="#ntp_002dwait-exit-status" accesskey="5">ntp-wait exit status</a></li>
<li><a href="#ntp_002dwait-Authors" accesskey="6">ntp-wait Authors</a></li>
<li><a href="#ntp_002dwait-Notes" accesskey="7">ntp-wait Notes</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="ntp_002dwait-usage">
<div class="nav-panel">
<p>
Next: <a href="#ntp_002dwait-tries" accesskey="n" rel="next">tries option (-n)</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">Invoking ntp-wait</a> &nbsp; </p>
</div>
<h4 class="subsection" id="ntp_002dwait-help_002fusage-_0028_002d_002dhelp_0029"><span>1.1 ntp-wait help/usage (<samp class="option">--help</samp>)<a class="copiable-link" href="#ntp_002dwait-help_002fusage-_0028_002d_002dhelp_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntp_002dwait-help"></a>

<p>This is the automatically generated usage text for ntp-wait.
</p>
<p>The text printed is the same whether selected with the <code class="code">help</code> option
(<samp class="option">--help</samp>) or the <code class="code">more-help</code> option (<samp class="option">--more-help</samp>).  <code class="code">more-help</code> will print
the usage text by passing it through a pager program.
<code class="code">more-help</code> is disabled on platforms without a working
<code class="code">fork(2)</code> function.  The <code class="code">PAGER</code> environment variable is
used to select the program, defaulting to <samp class="file">more</samp>.  Both will exit
with a status code of 0.
</p>
<div class="example">
<pre class="example-preformatted">ntp-wait - Wait for ntpd to stabilize the system clock - Ver. 4.2.8p17
USAGE: ntp-wait [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... 

    -n, --tries=num              Number of times to check ntpd
    -s, --sleep=num              How long to sleep between tries
    -v, --verbose                Be verbose
    -?, --help                   Display usage information and exit
        --more-help              Pass the extended usage text through a pager

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.
</pre></div>

<hr>
</div>
<div class="subsection-level-extent" id="ntp_002dwait-tries">
<div class="nav-panel">
<p>
Next: <a href="#ntp_002dwait-sleep" accesskey="n" rel="next">sleep option (-s)</a>, Previous: <a href="#ntp_002dwait-usage" accesskey="p" rel="prev">ntp-wait help/usage (<samp class="option">--help</samp>)</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">Invoking ntp-wait</a> &nbsp; </p>
</div>
<h4 class="subsection" id="tries-option-_0028_002dn_0029"><span>1.2 tries option (-n)<a class="copiable-link" href="#tries-option-_0028_002dn_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntp_002dwait_002dtries"></a>

<p>This is the &ldquo;number of times to check ntpd&rdquo; option.
This option takes a number argument.
        The maximum number of times we will check <code class="code">ntpd</code> to see if
        it has been able to synchronize and stabilize the system clock.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntp_002dwait-sleep">
<div class="nav-panel">
<p>
Next: <a href="#ntp_002dwait-verbose" accesskey="n" rel="next">verbose option (-v)</a>, Previous: <a href="#ntp_002dwait-tries" accesskey="p" rel="prev">tries option (-n)</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">Invoking ntp-wait</a> &nbsp; </p>
</div>
<h4 class="subsection" id="sleep-option-_0028_002ds_0029"><span>1.3 sleep option (-s)<a class="copiable-link" href="#sleep-option-_0028_002ds_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntp_002dwait_002dsleep"></a>

<p>This is the &ldquo;how long to sleep between tries&rdquo; option.
This option takes a number argument <samp class="file">secs-between-tries</samp>.
        We will sleep for <samp class="file">secs-between-tries</samp> after each query
        of <code class="code">ntpd</code> that returns &quot;the time is not yet stable&quot;.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntp_002dwait-verbose">
<div class="nav-panel">
<p>
Next: <a href="#ntp_002dwait-exit-status" accesskey="n" rel="next">ntp-wait exit status</a>, Previous: <a href="#ntp_002dwait-sleep" accesskey="p" rel="prev">sleep option (-s)</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">Invoking ntp-wait</a> &nbsp; </p>
</div>
<h4 class="subsection" id="verbose-option-_0028_002dv_0029"><span>1.4 verbose option (-v)<a class="copiable-link" href="#verbose-option-_0028_002dv_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntp_002dwait_002dverbose"></a>

<p>This is the &ldquo;be verbose&rdquo; option.
        By default, <code class="code">ntp-wait</code> is silent.
        With this option, <code class="code">ntp-wait</code> will provide status information.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntp_002dwait-exit-status">
<div class="nav-panel">
<p>
Next: <a href="#ntp_002dwait-Authors" accesskey="n" rel="next">ntp-wait Authors</a>, Previous: <a href="#ntp_002dwait-verbose" accesskey="p" rel="prev">verbose option (-v)</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">Invoking ntp-wait</a> &nbsp; </p>
</div>
<h4 class="subsection" id="ntp_002dwait-exit-status-1"><span>1.5 ntp-wait exit status<a class="copiable-link" href="#ntp_002dwait-exit-status-1"> &para;</a></span></h4>

<p>One of the following exit values will be returned:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
<dd><p>Successful program execution.
</p></dd>
<dt>&lsquo;<samp class="samp">1 (EXIT_FAILURE)</samp>&rsquo;</dt>
<dd><p>The operation failed or the command syntax was not valid.
</p></dd>
</dl>
<hr>
</div>
<div class="subsection-level-extent" id="ntp_002dwait-Authors">
<div class="nav-panel">
<p>
Next: <a href="#ntp_002dwait-Notes" accesskey="n" rel="next">ntp-wait Notes</a>, Previous: <a href="#ntp_002dwait-exit-status" accesskey="p" rel="prev">ntp-wait exit status</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">Invoking ntp-wait</a> &nbsp; </p>
</div>
<h4 class="subsection" id="ntp_002dwait-Authors-1"><span>1.6 ntp-wait Authors<a class="copiable-link" href="#ntp_002dwait-Authors-1"> &para;</a></span></h4>
<hr>
</div>
<div class="subsection-level-extent" id="ntp_002dwait-Notes">
<div class="nav-panel">
<p>
Previous: <a href="#ntp_002dwait-Authors" accesskey="p" rel="prev">ntp-wait Authors</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">Invoking ntp-wait</a> &nbsp; </p>
</div>
<h4 class="subsection" id="ntp_002dwait-Notes-1"><span>1.7 ntp-wait Notes<a class="copiable-link" href="#ntp_002dwait-Notes-1"> &para;</a></span></h4>
</div>
</div>



</body>
</html>
