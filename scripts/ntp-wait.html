<html lang="en">
<head>
<title>Ntp-wait User's Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Ntp-wait User's Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<h1 class="settitle">Ntp-wait User's Manual</h1>
<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Description">ntp-wait Description</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Simple Network Time Protocol User Manual</h2>

<p>This document describes the use of the NTP Project's <code>ntp-wait</code> program.

  <p>If there are time-sensitive applications,
the proper sequence of events is to
run <code>ntpd -g</code> as early as possible,
then invoke all of the non-time-sensitive process,
run <code>ntp-wait</code> to block
until the system's time has stabilized and synchronized,
and only then start any applicaitons (like database servers) that require
accurate and stable time.

  <p>This document applies to version 4.2.7p337 of <code>ntp-wait</code>.

  <div class="shortcontents">
<h2>Short Contents</h2>
<ul>
<a href="#Top">Simple Network Time Protocol User Manual</a>
</ul>
</div>

<ul class="menu">
<li><a accesskey="1" href="#ntp_002dwait-Description">ntp-wait Description</a>:             Description
<li><a accesskey="2" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>: 		Invoking ntp-wait
</ul>

<div class="node">
<a name="ntp-wait-Description"></a>
<a name="ntp_002dwait-Description"></a>
<p><hr>


</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">Description</h3>

<p>The <code>ntp-wait</code> program blocks until <code>ntpd</code> is in synchronized state. 
This can be useful at boot time, to delay the boot sequence until after
<code>ntpd -g</code> has set the time.

<div class="node">
<a name="ntp-wait-Invocation"></a>
<a name="ntp_002dwait-Invocation"></a>
<p><hr>


</div>

<h3 class="section">Invoking ntp-wait</h3>

<p><a name="index-ntp_002dwait-1"></a><a name="index-Wait-for-ntpd-to-stabilize-the-system-clock-2"></a>

  <p><code>ntp-wait</code>
will send at most
<kbd>num-tries</kbd> queries to
<code>ntpd(8)</code>,
sleeping for
<kbd>secs-between-tries</kbd> after each status return that says
<code>ntpd(8)</code>
has not yet produced a synchronized and stable system clock.

  <p><code>ntp-wait</code>
will do this quietly, unless the
<code>-v</code> flag is provided.

  <p>This section was generated by <strong>AutoGen</strong>,
using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp-wait</code> program. 
This software is released under the NTP license, &lt;http://ntp.org/license&gt;.

<ul class="menu">
<li><a accesskey="1" href="#ntp_002dwait-usage">ntp-wait usage</a>:                   ntp-wait help/usage (<samp><span class="option">--help</span></samp>)
<li><a accesskey="2" href="#ntp_002dwait">ntp-wait </a>:                         option (-n)
<li><a accesskey="3" href="#ntp_002dwait">ntp-wait </a>:                         option (-s)
<li><a accesskey="4" href="#ntp_002dwait">ntp-wait </a>:                         option (-v)
<li><a accesskey="5" href="#ntp_002dwait-config">ntp-wait config</a>:                  presetting/configuring ntp-wait
<li><a accesskey="6" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>:             exit status
<li><a accesskey="7" href="#ntp_002dwait-Authors">ntp-wait Authors</a>:                 Authors
<li><a accesskey="8" href="#ntp_002dwait-Notes">ntp-wait Notes</a>:                   Notes
</ul>

<div class="node">
<a name="ntp-wait-usage"></a>
<a name="ntp_002dwait-usage"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait">ntp-wait</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>

</div>

<h4 class="subsection">ntp-wait help/usage (<samp><span class="option">--help</span></samp>)</h4>

<p><a name="index-ntp_002dwait-help-3"></a>
This is the automatically generated usage text for ntp-wait.

  <p>The text printed is the same whether selected with the <code>help</code> option
(<samp><span class="option">--help</span></samp>) or the <code>more-help</code> option (<samp><span class="option">--more-help</span></samp>).  <code>more-help</code> will print
the usage text by passing it through a pager program. 
<code>more-help</code> is disabled on platforms without a working
<code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
used to select the program, defaulting to <samp><span class="file">more</span></samp>.  Both will exit
with a status code of 0.

<pre class="example">/deacon/backroom/snaps/ntp-dev/A.snap/scripts/ntp-wait version [unknown] calling Getopt::Std::getopts (version 1.05 [paranoid]),
running under Perl version 5.8.8.

Usage: ntp-wait [-OPTIONS [-MORE_OPTIONS]] [--] [PROGRAM_ARG1 ...]

The following single-character options are accepted:
        With arguments: -n -s
        Boolean (without arguments): -v

Options may be merged together.  -- stops processing of options.
Space is not required between options and their arguments.
  [Now continuing due to backward compatibility and excessive paranoia.
   See ``perldoc Getopt::Std'' about $Getopt::Std::STANDARD_HELP_VERSION.]
</pre>
  <div class="node">
<a name="ntp-wait"></a>
<a name="ntp_002dwait"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-config">ntp-wait config</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait">ntp-wait</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>

</div>

<h4 class="subsection">option (-n)</h4>

<p><a name="index-ntp_002dwait_002d-4"></a>
This is the &ldquo;number of times to check ntpd&rdquo; option. 
This option takes an argument number <samp><span class="file">num-tries</span></samp>. 
The maximum number of times we will check ntpd to see if it
has been able to synchronize and stabilize the system clock. 
<div class="node">
<a name="ntp-wait"></a>
<a name="ntp_002dwait"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-config">ntp-wait config</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait">ntp-wait</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>

</div>

<h4 class="subsection">option (-s)</h4>

<p><a name="index-ntp_002dwait_002d-5"></a>
This is the &ldquo;how long to sleep between tries&rdquo; option. 
This option takes an argument number <samp><span class="file">secs-between-tries</span></samp>. 
We will sleep for <samp><span class="file">secs-between-tries</span></samp> after each query of ntpd
that returns "the time is not yet stable". 
<div class="node">
<a name="ntp-wait"></a>
<a name="ntp_002dwait"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-config">ntp-wait config</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait">ntp-wait</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>

</div>

<h4 class="subsection">option (-v)</h4>

<p><a name="index-ntp_002dwait_002d-6"></a>
This is the &ldquo;be verbose&rdquo; option. 
By default, ntp-wait is silent.  With this option, ntp-wait
will provide status information.

<div class="node">
<a name="ntp-wait-config"></a>
<a name="ntp_002dwait-config"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait">ntp-wait</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>

</div>

<h4 class="subsection">presetting/configuring ntp-wait</h4>

<p>Any option that is not marked as <i>not presettable</i> may be preset by
loading values from environment variables named <code>NTP-WAIT</code> and <code>NTP-WAIT_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
the options listed above in upper case and segmented with underscores. 
The <code>NTP-WAIT</code> variable will be tokenized and parsed like
the command line.  The remaining variables are tested for existence and their
values are treated like option arguments.

  <p>The command line options relating to configuration and/or usage help are:

<h5 class="subsubheading">version (-)</h5>

<p>Print the program version to standard out, optionally with licensing
information, then exit 0.  The optional argument specifies how much licensing
detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument.  Only the
first letter of the argument is examined:

     <dl>
<dt>&lsquo;<samp><span class="samp">version</span></samp>&rsquo;<dd>Only print the version.  This is the default. 
<br><dt>&lsquo;<samp><span class="samp">copyright</span></samp>&rsquo;<dd>Name the copyright usage licensing terms. 
<br><dt>&lsquo;<samp><span class="samp">verbose</span></samp>&rsquo;<dd>Print the full copyright usage licensing terms. 
</dl>

<div class="node">
<a name="ntp-wait-exit-status"></a>
<a name="ntp_002dwait-exit-status"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Authors">ntp-wait Authors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-config">ntp-wait config</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>

</div>

<h4 class="subsection">ntp-wait exit status</h4>

<p>One of the following exit values will be returned:
     <dl>
<dt>&lsquo;<samp><span class="samp">0 (EXIT_SUCCESS)</span></samp>&rsquo;<dd>Successful program execution. 
<br><dt>&lsquo;<samp><span class="samp">1 (EXIT_FAILURE)</span></samp>&rsquo;<dd>The operation failed or the command syntax was not valid. 
</dl>
  <div class="node">
<a name="ntp-wait-Authors"></a>
<a name="ntp_002dwait-Authors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Notes">ntp-wait Notes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>

</div>

<h4 class="subsection">ntp-wait Authors</h4>

<div class="node">
<a name="ntp-wait-Notes"></a>
<a name="ntp_002dwait-Notes"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-Authors">ntp-wait Authors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>

</div>

<h4 class="subsection">ntp-wait Notes</h4>

<p>This document corresponds to version  of NTP.

</body></html>

