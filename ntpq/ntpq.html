<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ntpq: Network Time Protocol Query User&rsquo;s Manual</title>

<meta name="description" content="ntpq: Network Time Protocol Query User&rsquo;s Manual">
<meta name="keywords" content="ntpq: Network Time Protocol Query User&rsquo;s Manual">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="#Top" rel="start" title="Top">
<link href="dir.html#Top" rel="up" title="(dir)">
<link href="#ntpq-Description" rel="next" title="ntpq Description">
<link href="dir.html#Top" rel="prev" title="(dir)">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
ul.toc-numbered-mark {list-style: none}
-->
</style>


</head>

<body lang="en">






<div class="top-level-extent" id="Top">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-Description" accesskey="n" rel="next">Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
</div>
<h1 class="top" id="ntpq_003a-Network-Time-Protocol-Query-User-Manual"><span>ntpq: Network Time Protocol Query User Manual<a class="copiable-link" href="#ntpq_003a-Network-Time-Protocol-Query-User-Manual"> &para;</a></span></h1>

<p>The <code class="code">ntpq</code> utility program is used to
monitor the operational status
and determine the performance of
<code class="code">ntpd</code>, the NTP daemon.
</p>
<p>This document applies to version 4.2.8p17 of <code class="code">ntpq</code>.
</p>

<div class="element-shortcontents" id="SEC_Shortcontents">
<h2 class="shortcontents-heading">Short Table of Contents</h2>

<div class="shortcontents">
<ul class="toc-numbered-mark">
<li><a id="stoc-Description" href="#ntpq-Description">1 Description</a></li>
</ul>
</div>
</div>
<hr>
<div class="chapter-level-extent" id="ntpq-Description">
<div class="nav-panel">
<p>
Next: <a href="#Usage" accesskey="n" rel="next">Usage</a>, Previous: <a href="#Top" accesskey="p" rel="prev">ntpq: Network Time Protocol Query User Manual</a>, Up: <a href="#Top" accesskey="u" rel="up">ntpq: Network Time Protocol Query User Manual</a> &nbsp; </p>
</div>
<h2 class="chapter section-level-set-chapter" id="Description"><span>1 Description<a class="copiable-link" href="#Description"> &para;</a></span></h2>

<p>The <code class="code">ntpq</code> utility program is used to monitor NTP daemon <code class="code">ntpd</code> operations and determine performance.
It uses the standard NTP mode 6 control message formats defined in
Appendix B of the NTPv3 specification RFC1305.
The same formats are used in NTPv4, although some of the variable names have changed and new ones added.
The description on this page is for the NTPv4 variables.
</p>
<p>The program can be run either in interactive mode or controlled using command line arguments.  Requests to read and write arbitrary variables can be assembled, with raw and pretty-printed output options being available.  The <code class="code">ntpq</code> can also obtain and print a list of peers in a common format by sending multiple queries to the server.
</p>
<p>If one or more request options is included on the command line when <code class="code">ntpq</code> is executed, each of the requests will be sent to the NTP servers running on each of the hosts given as command line arguments, or on localhost by default.  If no request options are given, <code class="code">ntpq</code> will attempt to read commands from the standard input and execute these on the NTP server running on the first host given on the command line, again defaulting to localhost when no other host is specified.  <code class="code">ntpq</code> will prompt for commands if the standard input is a terminal device.
</p>
<p><code class="code">ntpq</code> uses NTP mode 6 packets to communicate with the NTP server, and hence can be used to query any compatible server on the network which permits it.  Note that since NTP is a UDP protocol this communication will be somewhat unreliable, especially over large distances in terms of network topology.  <code class="code">ntpq</code> makes one attempt to retransmit requests, and will time requests out if the remote host is not heard from within a suitable timeout time.
</p>
<p>Note that in contexts where a host name is expected, a <code class="code">-4</code> qualifier preceding the host name forces DNS resolution to the IPv4 namespace, while a <code class="code">-6</code> qualifier forces DNS resolution to the IPv6 namespace.
</p>
<p>For examples and usage, see the <a class="url" href="debug.html">NTP Debugging Techniques</a> page.
</p>
<ul class="mini-toc">
<li><a href="#ntpq-Invocation" accesskey="1">Invoking ntpq</a></li>
<li><a href="#Usage" accesskey="2">Usage</a></li>
<li><a href="#Internal-Commands" accesskey="3">Internal Commands</a></li>
<li><a href="#Control-Message-Commands" accesskey="4">Control Message Commands</a></li>
<li><a href="#Status-Words-and-Kiss-Codes" accesskey="5">Status Words and Kiss Codes</a></li>
<li><a href="#System-Variables" accesskey="6">System Variables</a></li>
<li><a href="#Peer-Variables" accesskey="7">Peer Variables</a></li>
<li><a href="#Clock-Variables" accesskey="8">Clock Variables</a></li>
</ul>
<hr>
<div class="section-level-extent" id="ntpq-Invocation">
<div class="nav-panel">
<p>
Next: <a href="#Usage" accesskey="n" rel="next">Usage</a>, Up: <a href="#ntpq-Description" accesskey="u" rel="up">Description</a> &nbsp; </p>
</div>
<h3 class="section" id="Invoking-ntpq"><span>1.1 Invoking ntpq<a class="copiable-link" href="#Invoking-ntpq"> &para;</a></span></h3>
<a class="index-entry-id" id="index-ntpq"></a>
<a class="index-entry-id" id="index-standard-NTP-query-program"></a>


<p>The
<code class="code">ntpq</code>
utility program is used to query NTP servers to monitor NTP operations
and performance, requesting
information about current state and/or changes in that state.
The program may be run either in interactive mode or controlled using
command line arguments.
Requests to read and write arbitrary
variables can be assembled, with raw and pretty-printed output
options being available.
The
<code class="code">ntpq</code>
utility can also obtain and print a
list of peers in a common format by sending multiple queries to the
server.
</p>
<p>If one or more request options is included on the command line
when
<code class="code">ntpq</code>
is executed, each of the requests will be sent
to the NTP servers running on each of the hosts given as command
line arguments, or on localhost by default.
If no request options
are given,
<code class="code">ntpq</code>
will attempt to read commands from the
standard input and execute these on the NTP server running on the
first host given on the command line, again defaulting to localhost
when no other host is specified.
The
<code class="code">ntpq</code>
utility will prompt for
commands if the standard input is a terminal device.
</p>
<p><code class="code">ntpq</code>
uses NTP mode 6 packets to communicate with the
NTP server, and hence can be used to query any compatible server on
the network which permits it.
Note that since NTP is a UDP protocol
this communication will be somewhat unreliable, especially over
large distances in terms of network topology.
The
<code class="code">ntpq</code>
utility makes
one attempt to retransmit requests, and will time requests out if
the remote host is not heard from within a suitable timeout
time.
</p>
<p>Note that in contexts where a host name is expected, a
<code class="code">-4</code>
qualifier preceding the host name forces resolution to the IPv4
namespace, while a
<code class="code">-6</code>
qualifier forces resolution to the IPv6 namespace.
For examples and usage, see the
&ldquo;NTP Debugging Techniques&rdquo;
page.
</p>
<p>Specifying a
command line option other than
<code class="code">-i</code>
or
<code class="code">-n</code>
will
cause the specified query (queries) to be sent to the indicated
host(s) immediately.
Otherwise,
<code class="code">ntpq</code>
will attempt to read
interactive format commands from the standard input.
</p>
<ul class="mini-toc">
<li><a href="#Internal-Commands-1" accesskey="1">Internal Commands</a></li>
<li><a href="#ntpq-usage" accesskey="2">ntpq help/usage (<samp class="option">--help</samp>)</a></li>
<li><a href="#ntpq-ipv4" accesskey="3">ipv4 option (-4)</a></li>
<li><a href="#ntpq-ipv6" accesskey="4">ipv6 option (-6)</a></li>
<li><a href="#ntpq-command" accesskey="5">command option (-c)</a></li>
<li><a href="#ntpq-interactive" accesskey="6">interactive option (-i)</a></li>
<li><a href="#ntpq-numeric" accesskey="7">numeric option (-n)</a></li>
<li><a href="#ntpq-old_002drv" accesskey="8">old-rv option</a></li>
<li><a href="#ntpq-peers" accesskey="9">peers option (-p)</a></li>
<li><a href="#ntpq-refid">refid option (-r)</a></li>
<li><a href="#ntpq-unconnected">unconnected option (-u)</a></li>
<li><a href="#ntpq-wide">wide option (-w)</a></li>
<li><a href="#ntpq-config">presetting/configuring ntpq</a></li>
<li><a href="#ntpq-exit-status">ntpq exit status</a></li>
</ul>
<div class="subsection-level-extent" id="Internal-Commands-1">
<h4 class="subsection subsubsection-level-set-subsection"><span>1.1.1 Internal Commands<a class="copiable-link" href="#Internal-Commands-1"> &para;</a></span></h4>

<p>Interactive format commands consist of a keyword followed by zero
to four arguments.
Only enough characters of the full keyword to
uniquely identify the command need be typed.
</p>
<p>A
number of interactive format commands are executed entirely within
the
<code class="code">ntpq</code>
utility itself and do not result in NTP
requests being sent to a server.
These are described following.
</p><dl class="table">
<dt><code class="code">?</code> <code class="code">[<kbd class="kbd">command</kbd>]</code></dt>
<dt><code class="code">help</code> <code class="code">[<kbd class="kbd">command</kbd>]</code></dt>
<dd><p>A
&lsquo;?&rsquo;
by itself will print a list of all the commands
known to
<code class="code">ntpq</code>
A
&lsquo;?&rsquo;
followed by a command name will print function and usage
information about the command.
</p></dd>
<dt><code class="code">addvars</code> <kbd class="kbd">name</kbd><code class="code">[=<kbd class="kbd">value</kbd>]</code><code class="code">[,...]</code></dt>
<dt><code class="code">rmvars</code> <kbd class="kbd">name</kbd><code class="code">[,...]</code></dt>
<dt><code class="code">clearvars</code></dt>
<dt><code class="code">showvars</code></dt>
<dd><p>The arguments to this command consist of a list of
items of the form
<kbd class="kbd">name</kbd><code class="code">[=<kbd class="kbd">value</kbd>]</code>,
where the
.No = Ns Ar value
is ignored, and can be omitted,
in requests to the server to read variables.
The
<code class="code">ntpq</code>
utility maintains an internal list in which data to be included in
messages can be assembled, and displayed or set using the
<code class="code">readlist</code>
and
<code class="code">writelist</code>
commands described below.
The
<code class="code">addvars</code>
command allows variables and their optional values to be added to
the list.
If more than one variable is to be added, the list should
be comma-separated and not contain white space.
The
<code class="code">rmvars</code>
command can be used to remove individual variables from the list,
while the
<code class="code">clearvars</code>
command removes all variables from the
list.
The
<code class="code">showvars</code>
command displays the current list of optional variables.
</p></dd>
<dt><code class="code">authenticate</code> <code class="code">[<code class="code">yes</code>|<code class="code">no</code>]</code></dt>
<dd><p>Normally
<code class="code">ntpq</code>
does not authenticate requests unless
they are write requests.
The command
<code class="code">authenticate</code> <code class="code">yes</code>
causes
<code class="code">ntpq</code>
to send authentication with all requests it
makes.
Authenticated requests causes some servers to handle
requests slightly differently.
The command
<code class="code">authenticate</code>
causes
<code class="code">ntpq</code>
to display whether or not
it is currently authenticating requests.
</p></dd>
<dt><code class="code">cooked</code></dt>
<dd><p>Causes output from query commands to be &quot;cooked&quot;, so that
variables which are recognized by
<code class="code">ntpq</code>
will have their
values reformatted for human consumption.
Variables which
<code class="code">ntpq</code>
could not decode completely are
marked with a trailing
&lsquo;?&rsquo;.
</p></dd>
<dt><code class="code">debug</code> <code class="code">[<code class="code">more</code>|<code class="code">less</code>|<code class="code">off</code>]</code></dt>
<dd><p>With no argument, displays the current debug level.
Otherwise, the debugging level is changed as indicated.
</p></dd>
<dt><code class="code">delay</code> <code class="code">[<kbd class="kbd">milliseconds</kbd>]</code></dt>
<dd><p>Specify a time interval to be added to timestamps included in
requests which require authentication.
This is used to enable
(unreliable) server reconfiguration over long delay network paths
or between machines whose clocks are unsynchronized.
Actually the
server does not now require timestamps in authenticated requests,
so this command may be obsolete.
Without any arguments, displays the current delay.
</p></dd>
<dt><code class="code">drefid</code> <code class="code">[<code class="code">hash</code>|<code class="code">ipv4</code>]</code></dt>
<dd><p>Display refids as IPv4 or hash.
Without any arguments, displays whether refids are shown as IPv4
addresses or hashes.
</p></dd>
<dt><code class="code">exit</code></dt>
<dd><p>Exit
<code class="code">ntpq</code>
</p></dd>
<dt><code class="code">host</code> <code class="code">[<kbd class="kbd">name</kbd>]</code></dt>
<dd><p>Set the host to which future queries will be sent.
The
<kbd class="kbd">name</kbd>
may be either a host name or a numeric address.
Without any arguments, displays the current host.
</p></dd>
<dt><code class="code">hostnames</code> <code class="code">[<code class="code">yes</code>|<code class="code">no</code>]</code></dt>
<dd><p>If
<code class="code">yes</code>
is specified, host names are printed in
information displays.
If
<code class="code">no</code>
is specified, numeric
addresses are printed instead.
The default is
<code class="code">yes</code>,
unless
modified using the command line
<code class="code">-n</code>
switch.
Without any arguments, displays whether host names or numeric addresses
are shown.
</p></dd>
<dt><code class="code">keyid</code> <code class="code">[<kbd class="kbd">keyid</kbd>]</code></dt>
<dd><p>This command allows the specification of a key number to be
used to authenticate configuration requests.
This must correspond
to the
<code class="code">controlkey</code>
key number the server has been configured to use for this
purpose.
Without any arguments, displays the current
<kbd class="kbd">keyid</kbd>.
</p></dd>
<dt><code class="code">keytype</code> <code class="code">[<kbd class="kbd">digest</kbd>]</code></dt>
<dd><p>Specify the digest algorithm to use for authenticating requests, with default
<code class="code">MD5</code>.
If
<code class="code">ntpq</code>
was built with OpenSSL support, and OpenSSL is installed,
<kbd class="kbd">digest</kbd>
can be any message digest algorithm supported by OpenSSL.
If no argument is given, the current
<code class="code">keytype</code> <kbd class="kbd">digest</kbd>
algorithm used is displayed.
</p></dd>
<dt><code class="code">ntpversion</code> <code class="code">[<code class="code">1</code>|<code class="code">2</code>|<code class="code">3</code>|<code class="code">4</code>]</code></dt>
<dd><p>Sets the NTP version number which
<code class="code">ntpq</code>
claims in
packets.
Defaults to 3, and note that mode 6 control messages (and
modes, for that matter) didn&rsquo;t exist in NTP version 1.
There appear
to be no servers left which demand version 1.
With no argument, displays the current NTP version that will be used
when communicating with servers.
</p></dd>
<dt><code class="code">passwd</code></dt>
<dd><p>This command prompts you to type in a password (which will not
be echoed) which will be used to authenticate configuration
requests.
The password must correspond to the key configured for
use by the NTP server for this purpose if such requests are to be
successful.
</p></dd>
<dt><code class="code">poll</code> <code class="code">[<kbd class="kbd">n</kbd>]</code> <code class="code">[<code class="code">verbose</code>]</code></dt>
<dd><p>Poll an NTP server in client mode
<kbd class="kbd">n</kbd>
times.
Poll not implemented yet.
</p></dd>
<dt><code class="code">quit</code></dt>
<dd><p>Exit
<code class="code">ntpq</code>
</p></dd>
<dt><code class="code">raw</code></dt>
<dd><p>Causes all output from query commands is printed as received
from the remote server.
The only formating/interpretation done on
the data is to transform nonascii data into a printable (but barely
understandable) form.
</p></dd>
<dt><code class="code">timeout</code> <code class="code">[<kbd class="kbd">milliseconds</kbd>]</code></dt>
<dd><p>Specify a timeout period for responses to server queries.
The
default is about 5000 milliseconds.
Without any arguments, displays the current timeout period.
Note that since
<code class="code">ntpq</code>
retries each query once after a timeout, the total waiting time for
a timeout will be twice the timeout value set.
</p></dd>
<dt><code class="code">version</code></dt>
<dd><p>Display the version of the
<code class="code">ntpq</code>
program.
</p></dd>
</dl>

<ul class="mini-toc">
<li><a href="#Control-Message-Commands-1" accesskey="1">Control Message Commands</a></li>
<li><a href="#Status-Words-and-Kiss-Codes-1" accesskey="2">Status Words and Kiss Codes</a></li>
<li><a href="#System-Variables-1" accesskey="3">System Variables</a></li>
<li><a href="#Peer-Variables-1" accesskey="4">Peer Variables</a></li>
<li><a href="#Clock-Variables-1" accesskey="5">Clock Variables</a></li>
</ul>
<div class="subsubsection-level-extent" id="Control-Message-Commands-1">
<h4 class="subsubsection"><span>1.1.1.1 Control Message Commands<a class="copiable-link" href="#Control-Message-Commands-1"> &para;</a></span></h4>
<p>Association ids are used to identify system, peer and clock variables.
System variables are assigned an association id of zero and system name
space, while each association is assigned a nonzero association id and
peer namespace.
Most control commands send a single message to the server and expect a
single response message.
The exceptions are the
<code class="code">peers</code>
command, which sends a series of messages,
and the
<code class="code">mreadlist</code>
and
<code class="code">mreadvar</code>
commands, which iterate over a range of associations.
</p><dl class="table">
<dt><code class="code">apeers</code></dt>
<dd><p>Display a list of peers in the form:
</p><div class="example">
<pre class="example-preformatted">[tally]remote refid assid st t when pool reach delay offset jitter
</pre></div>
<p>where the output is just like the
<code class="code">peers</code>
command except that the
<code class="code">refid</code>
is displayed in hex format and the association number is also displayed.
</p></dd>
<dt><code class="code">associations</code></dt>
<dd><p>Display a list of mobilized associations in the form:
</p><div class="example">
<pre class="example-preformatted">ind assid status conf reach auth condition last_event cnt
</pre></div>
<dl class="table">
<dt>Sy Variable Ta Sy Description</dt>
<dt><code class="code">ind</code> <code class="code">Ta</code> <code class="code">index</code> <code class="code">on</code> <code class="code">this</code> <code class="code">list</code></dt>
<dt><code class="code">assid</code> <code class="code">Ta</code> <code class="code">association</code> <code class="code">id</code></dt>
<dt><code class="code">status</code> <code class="code">Ta</code> <code class="code">peer</code> <code class="code">status</code> <code class="code">word</code></dt>
<dt><code class="code">conf</code> <code class="code">Ta</code> <code class="code">yes</code>: <code class="code">No</code> <code class="code">persistent,</code> <code class="code">no</code>: <code class="code">No</code> <code class="code">ephemeral</code></dt>
<dt><code class="code">reach</code> <code class="code">Ta</code> <code class="code">yes</code>: <code class="code">No</code> <code class="code">reachable,</code> <code class="code">no</code>: <code class="code">No</code> <code class="code">unreachable</code></dt>
<dt><code class="code">auth</code> <code class="code">Ta</code> <code class="code">ok</code>, <code class="code">yes</code>, <code class="code">bad</code> <code class="code">No</code> <code class="code">and</code> <code class="code">none</code></dt>
<dt><code class="code">condition</code> <code class="code">Ta</code> <code class="code">selection</code> <code class="code">status</code> <code class="code">(see</code> <code class="code">the</code> <code class="code">select</code> <code class="code">No</code> <code class="code">field</code> <code class="code">of</code> <code class="code">the</code> <code class="code">peer</code> <code class="code">status</code> <code class="code">word)</code></dt>
<dt><code class="code">last_event</code> <code class="code">Ta</code> <code class="code">event</code> <code class="code">report</code> <code class="code">(see</code> <code class="code">the</code> <code class="code">event</code> <code class="code">No</code> <code class="code">field</code> <code class="code">of</code> <code class="code">the</code> <code class="code">peer</code> <code class="code">status</code> <code class="code">word)</code></dt>
<dt><code class="code">cnt</code> <code class="code">Ta</code> <code class="code">event</code> <code class="code">count</code> <code class="code">(see</code> <code class="code">the</code> <code class="code">count</code> <code class="code">No</code> <code class="code">field</code> <code class="code">of</code> <code class="code">the</code> <code class="code">peer</code> <code class="code">status</code> <code class="code">word)</code></dt>
</dl>
</dd>
<dt><code class="code">authinfo</code></dt>
<dd><p>Display the authentication statistics counters:
time since reset, stored keys, free keys, key lookups, keys not found,
uncached keys, expired keys, encryptions, decryptions.
</p></dd>
<dt><code class="code">clocklist</code> <code class="code">[<kbd class="kbd">associd</kbd>]</code></dt>
<dt><code class="code">cl</code> <code class="code">[<kbd class="kbd">associd</kbd>]</code></dt>
<dd><p>Display all clock variables in the variable list for those associations
supporting a reference clock.
</p></dd>
<dt><code class="code">clockvar</code> <code class="code">[<kbd class="kbd">associd</kbd>]</code> <code class="code">[<kbd class="kbd">name</kbd><code class="code">[=<kbd class="kbd">value</kbd>]</code>]</code><code class="code">[,...]</code></dt>
<dt><code class="code">cv</code> <code class="code">[<kbd class="kbd">associd</kbd>]</code> <code class="code">[<kbd class="kbd">name</kbd><code class="code">[=<kbd class="kbd">value</kbd>]</code>]</code><code class="code">[,...]</code></dt>
<dd><p>Display a list of clock variables for those associations supporting a
reference clock.
</p></dd>
<dt><code class="code">:config</code> <kbd class="kbd">configuration command line</kbd></dt>
<dd><p>Send the remainder of the command line, including whitespace, to the
server as a run-time configuration command in the same format as a line
in the configuration file.
This command is experimental until further notice and clarification.
Authentication is of course required.
</p></dd>
<dt><code class="code">config-from-file</code> <kbd class="kbd">filename</kbd></dt>
<dd><p>Send each line of
<kbd class="kbd">filename</kbd>
to the server as run-time configuration commands in the same format as
lines in the configuration file.
This command is experimental until further notice and clarification.
Authentication is required.
</p></dd>
<dt><code class="code">ifstats</code></dt>
<dd><p>Display status and statistics counters for each local network interface address:
interface number, interface name and address or broadcast, drop, flag,
ttl, mc, received, sent, send failed, peers, uptime.
Authentication is required.
</p></dd>
<dt><code class="code">iostats</code></dt>
<dd><p>Display network and reference clock I/O statistics:
time since reset, receive buffers, free receive buffers, used receive buffers,
low water refills, dropped packets, ignored packets, received packets,
packets sent, packet send failures, input wakeups, useful input wakeups.
</p></dd>
<dt><code class="code">kerninfo</code></dt>
<dd><p>Display kernel loop and PPS statistics:
associd, status, pll offset, pll frequency, maximum error,
estimated error, kernel status, pll time constant, precision,
frequency tolerance, pps frequency, pps stability, pps jitter,
calibration interval, calibration cycles, jitter exceeded,
stability exceeded, calibration errors.
As with other ntpq output, times are in milliseconds; very small values
may be shown as exponentials.
The precision value displayed is in milliseconds as well, unlike the
precision system variable.
</p></dd>
<dt><code class="code">lassociations</code></dt>
<dd><p>Perform the same function as the associations command, except display
mobilized and unmobilized associations, including all clients.
</p></dd>
<dt><code class="code">lopeers</code> <code class="code">[<code class="code">-4</code>|<code class="code">-6</code>]</code></dt>
<dd><p>Display a list of all peers and clients showing
<code class="code">dstadr</code>
(associated with the given IP version).
</p></dd>
<dt><code class="code">lpassociations</code></dt>
<dd><p>Display the last obtained list of associations, including all clients.
</p></dd>
<dt><code class="code">lpeers</code> <code class="code">[<code class="code">-4</code>|<code class="code">-6</code>]</code></dt>
<dd><p>Display a list of all peers and clients (associated with the given IP version).
</p></dd>
<dt><code class="code">monstats</code></dt>
<dd><p>Display monitor facility status, statistics, and limits:
enabled, addresses, peak addresses, maximum addresses,
reclaim above count, reclaim older than, kilobytes, maximum kilobytes.
</p></dd>
<dt><code class="code">mreadlist</code> <kbd class="kbd">associdlo</kbd> <kbd class="kbd">associdhi</kbd></dt>
<dt><code class="code">mrl</code> <kbd class="kbd">associdlo</kbd> <kbd class="kbd">associdhi</kbd></dt>
<dd><p>Perform the same function as the
<code class="code">readlist</code>
command for a range of association ids.
</p></dd>
<dt><code class="code">mreadvar</code> <kbd class="kbd">associdlo</kbd> <kbd class="kbd">associdhi</kbd> <code class="code">[<kbd class="kbd">name</kbd>]</code><code class="code">[,...]</code></dt>
<dd><p>This range may be determined from the list displayed by any
command showing associations.
</p></dd>
<dt><code class="code">mrv</code> <kbd class="kbd">associdlo</kbd> <kbd class="kbd">associdhi</kbd> <code class="code">[<kbd class="kbd">name</kbd>]</code><code class="code">[,...]</code></dt>
<dd><p>Perform the same function as the
<code class="code">readvar</code>
command for a range of association ids.
This range may be determined from the list displayed by any
command showing associations.
</p></dd>
<dt><code class="code">mrulist</code> <code class="code">[<code class="code">limited</code> | <code class="code">kod</code> | <code class="code">mincount</code>=<kbd class="kbd">count</kbd> | <code class="code">laddr</code>=<kbd class="kbd">localaddr</kbd> | <code class="code">sort</code>=<code class="code">[-]</code><kbd class="kbd">sortorder</kbd> | <code class="code">resany</code>=<kbd class="kbd">hexmask</kbd> | <code class="code">resall</code>=<kbd class="kbd">hexmask</kbd>]</code></dt>
<dd><p>Display traffic counts of the most recently seen source addresses
collected and maintained by the monitor facility.
With the exception of
<code class="code">sort</code>=<code class="code">[-]</code><kbd class="kbd">sortorder</kbd>,
the options filter the list returned by
<code class="code">ntpd(8)</code>.
The
<code class="code">limited</code>
and
<code class="code">kod</code>
options return only entries representing client addresses from which the
last packet received triggered either discarding or a KoD response.
The
<code class="code">mincount</code>=<kbd class="kbd">count</kbd>
option filters entries representing less than
<kbd class="kbd">count</kbd>
packets.
The
<code class="code">laddr</code>=<kbd class="kbd">localaddr</kbd>
option filters entries for packets received on any local address other than
<kbd class="kbd">localaddr</kbd>.
<code class="code">resany</code>=<kbd class="kbd">hexmask</kbd>
and
<code class="code">resall</code>=<kbd class="kbd">hexmask</kbd>
filter entries containing none or less than all, respectively, of the bits in
<kbd class="kbd">hexmask</kbd>,
which must begin with
<code class="code">0x</code>.
The
<kbd class="kbd">sortorder</kbd>
defaults to
<code class="code">lstint</code>
and may be 
<code class="code">addr</code>,
<code class="code">avgint</code>,
<code class="code">count</code>,
<code class="code">lstint</code>,
or any of those preceded by
&lsquo;-&rsquo;
to reverse the sort order.
The output columns are:
</p><dl class="table">
<dt>Column</dt>
<dd><p>Description
</p></dd>
<dt><code class="code">lstint</code></dt>
<dd><p>Interval in seconds between the receipt of the most recent packet from
this address and the completion of the retrieval of the MRU list by
<code class="code">ntpq</code>
</p></dd>
<dt><code class="code">avgint</code></dt>
<dd><p>Average interval in s between packets from this address.
</p></dd>
<dt><code class="code">rstr</code></dt>
<dd><p>Restriction flags associated with this address.
Most are copied unchanged from the matching
<code class="code">restrict</code>
command, however 0x400 (kod) and 0x20 (limited) flags are cleared unless
the last packet from this address triggered a rate control response.
</p></dd>
<dt><code class="code">r</code></dt>
<dd><p>Rate control indicator, either
a period,
<code class="code">L</code>
or
<code class="code">K</code>
for no rate control response,
rate limiting by discarding, or rate limiting with a KoD response, respectively.
</p></dd>
<dt><code class="code">m</code></dt>
<dd><p>Packet mode.
</p></dd>
<dt><code class="code">v</code></dt>
<dd><p>Packet version number.
</p></dd>
<dt><code class="code">count</code></dt>
<dd><p>Packets received from this address.
</p></dd>
<dt><code class="code">rport</code></dt>
<dd><p>Source port of last packet from this address.
</p></dd>
<dt><code class="code">remote</code> <code class="code">address</code></dt>
<dd><p>host or DNS name, numeric address, or address followed by
claimed DNS name which could not be verified in parentheses.
</p></dd>
</dl>
</dd>
<dt><code class="code">opeers</code> <code class="code">[<code class="code">-4</code> | <code class="code">-6</code>]</code></dt>
<dd><p>Obtain and print the old-style list of all peers and clients showing
<code class="code">dstadr</code>
(associated with the given IP version),
rather than the
<code class="code">refid</code>.
</p></dd>
<dt><code class="code">passociations</code></dt>
<dd><p>Perform the same function as the
<code class="code">associations</code>
command,
except that it uses previously stored data rather than making a new query.
</p></dd>
<dt><code class="code">peers</code></dt>
<dd><p>Display a list of peers in the form:
</p><div class="example">
<pre class="example-preformatted">[tally]remote refid st t when pool reach delay offset jitter
</pre></div>
<dl class="table">
<dt>Variable</dt>
<dd><p>Description
</p></dd>
<dt><code class="code">[tally]</code></dt>
<dd><p>single-character code indicating current value of the
<code class="code">select</code>
field of the
.Lk decode.html#peer &quot;peer status word&quot;
</p></dd>
<dt><code class="code">remote</code></dt>
<dd><p>host name (or IP number) of peer.
The value displayed will be truncated to 15 characters unless the
<code class="code">ntpq</code>
<code class="code">-w</code>
option is given, in which case the full value will be displayed
on the first line, and if too long,
the remaining data will be displayed on the next line.
</p></dd>
<dt><code class="code">refid</code></dt>
<dd><p>source IP address or
.Lk decode.html#kiss &quot;&rsquo;kiss code&quot;
</p></dd>
<dt><code class="code">st</code></dt>
<dd><p>stratum: 0 for local reference clocks, 1 for servers with local
reference clocks, ..., 16 for unsynchronized server clocks
</p></dd>
<dt><code class="code">t</code></dt>
<dd><p><code class="code">u</code>:
unicast or manycast client,
<code class="code">b</code>:
broadcast or multicast client,
<code class="code">p</code>:
pool source,
<code class="code">l</code>:
local (reference clock),
<code class="code">s</code>:
symmetric (peer),
<code class="code">A</code>:
manycast server,
<code class="code">B</code>:
broadcast server,
<code class="code">M</code>:
multicast server
</p></dd>
<dt><code class="code">when</code></dt>
<dd><p>time in seconds, minutes, hours, or days since the last packet
was received, or
&lsquo;-&rsquo;
if a packet has never been received
</p></dd>
<dt><code class="code">poll</code></dt>
<dd><p>poll interval (s)
</p></dd>
<dt><code class="code">reach</code></dt>
<dd><p>reach shift register (octal)
</p></dd>
<dt><code class="code">delay</code></dt>
<dd><p>roundtrip delay
</p></dd>
<dt><code class="code">offset</code></dt>
<dd><p>offset of server relative to this host
</p></dd>
<dt><code class="code">jitter</code></dt>
<dd><p>offset RMS error estimate.
</p></dd>
</dl>
</dd>
<dt><code class="code">pstats</code> <kbd class="kbd">associd</kbd></dt>
<dd><p>Display the statistics for the peer with the given
<kbd class="kbd">associd</kbd>:
associd, status, remote host, local address, time last received,
time until next send, reachability change, packets sent,
packets received, bad authentication, bogus origin, duplicate,
bad dispersion, bad reference time, candidate order.
</p></dd>
<dt><code class="code">readlist</code> <code class="code">[<kbd class="kbd">associd</kbd>]</code></dt>
<dt><code class="code">rl</code> <code class="code">[<kbd class="kbd">associd</kbd>]</code></dt>
<dd><p>Display all system or peer variables.
If the
<kbd class="kbd">associd</kbd>
is omitted, it is assumed to be zero.
</p></dd>
<dt><code class="code">readvar</code> <code class="code">[<kbd class="kbd">associd</kbd> <kbd class="kbd">name</kbd><code class="code">[=<kbd class="kbd">value</kbd>]</code> <code class="code">[, ...]</code>]</code></dt>
<dt><code class="code">rv</code> <code class="code">[<kbd class="kbd">associd</kbd> <kbd class="kbd">name</kbd><code class="code">[=<kbd class="kbd">value</kbd>]</code> <code class="code">[, ...]</code>]</code></dt>
<dd><p>Display the specified system or peer variables.
If
<kbd class="kbd">associd</kbd>
is zero, the variables are from the
<a class="ref" href="#System-Variables">System Variables</a>
name space, otherwise they are from the
<a class="ref" href="#Peer-Variables">Peer Variables</a>
name space.
The
<kbd class="kbd">associd</kbd>
is required, as the same name can occur in both spaces.
If no
<kbd class="kbd">name</kbd>
is included, all operative variables in the name space are displayed.
In this case only, if the
<kbd class="kbd">associd</kbd>
is omitted, it is assumed to be zero.
Multiple names are specified with comma separators and without whitespace.
Note that time values are represented in milliseconds
and frequency values in parts-per-million (PPM).
Some NTP timestamps are represented in the format
<kbd class="kbd">YYYY</kbd><kbd class="kbd">MM</kbd> <kbd class="kbd">DD</kbd> <kbd class="kbd">TTTT</kbd>,
where
<kbd class="kbd">YYYY</kbd>
is the year,
<kbd class="kbd">MM</kbd>
the month of year,
<kbd class="kbd">DD</kbd>
the day of month and
<kbd class="kbd">TTTT</kbd>
the time of day.
</p></dd>
<dt><code class="code">reslist</code></dt>
<dd><p>Display the access control (restrict) list for
<code class="code">ntpq</code>
Authentication is required.
</p></dd>
<dt><code class="code">saveconfig</code> <kbd class="kbd">filename</kbd></dt>
<dd><p>Save the current configuration,
including any runtime modifications made by
<code class="code">:config</code>
or
<code class="code">config-from-file</code>,
to the NTP server host file
<kbd class="kbd">filename</kbd>.
This command will be rejected by the server unless
.Lk miscopt.html#saveconfigdir &quot;saveconfigdir&quot;
appears in the
<code class="code">ntpd(8)</code>
configuration file.
<kbd class="kbd">filename</kbd>
can use
<code class="code">date(1)</code>
format specifiers to substitute the current date and time, for
example,
</p><div class="example">
<pre class="example-preformatted"><code class="code">saveconfig</code> <samp class="file">ntp-%Y%m%d-%H%M%S.conf</samp>. 
</pre></div>
<p>The filename used is stored in system variable
<code class="code">savedconfig</code>.
Authentication is required.
</p></dd>
<dt><code class="code">sysinfo</code></dt>
<dd><p>Display system operational summary:
associd, status, system peer, system peer mode, leap indicator,
stratum, log2 precision, root delay, root dispersion,
reference id, reference time, system jitter, clock jitter,
clock wander, broadcast delay, symm. auth. delay.
</p></dd>
<dt><code class="code">sysstats</code></dt>
<dd><p>Display system uptime and packet counts maintained in the
protocol module:
uptime, sysstats reset, packets received, current version,
older version, bad length or format, authentication failed,
declined, restricted, rate limited, KoD responses,
processed for time.
</p></dd>
<dt><code class="code">timerstats</code></dt>
<dd><p>Display interval timer counters:
time since reset, timer overruns, calls to transmit.
</p></dd>
<dt><code class="code">writelist</code> <kbd class="kbd">associd</kbd></dt>
<dd><p>Set all system or peer variables included in the variable list.
</p></dd>
<dt><code class="code">writevar</code> <kbd class="kbd">associd</kbd> <kbd class="kbd">name</kbd>=<kbd class="kbd">value</kbd> <code class="code">[, ...]</code></dt>
<dd><p>Set the specified variables in the variable list.
If the
<kbd class="kbd">associd</kbd>
is zero, the variables are from the
<a class="ref" href="#System-Variables">System Variables</a>
name space, otherwise they are from the
<a class="ref" href="#Peer-Variables">Peer Variables</a>
name space.
The
<kbd class="kbd">associd</kbd>
is required, as the same name can occur in both spaces.
Authentication is required.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Status-Words-and-Kiss-Codes-1">
<h4 class="subsubsection"><span>1.1.1.2 Status Words and Kiss Codes<a class="copiable-link" href="#Status-Words-and-Kiss-Codes-1"> &para;</a></span></h4>
<p>The current state of the operating program is shown
in a set of status words
maintained by the system.
Status information is also available on a per-association basis.
These words are displayed by the
<code class="code">readlist</code>
and
<code class="code">associations</code>
commands both in hexadecimal and in decoded short tip strings.
The codes, tips and short explanations are documented on the
.Lk decode.html &quot;Event Messages and Status Words&quot;
page.
The page also includes a list of system and peer messages,
the code for the latest of which is included in the status word.
</p>
<p>Information resulting from protocol machine state transitions
is displayed using an informal set of ASCII strings called
.Lk decode.html#kiss &quot;kiss codes&quot; .
The original purpose was for kiss-o&rsquo;-death (KoD) packets
sent by the server to advise the client of an unusual condition.
They are now displayed, when appropriate,
in the reference identifier field in various billboards.
</p>
</div>
<div class="subsubsection-level-extent" id="System-Variables-1">
<h4 class="subsubsection"><span>1.1.1.3 System Variables<a class="copiable-link" href="#System-Variables-1"> &para;</a></span></h4>
<p>The following system variables appear in the
<code class="code">readlist</code>
billboard.
Not all variables are displayed in some configurations.
</p>
<dl class="table">
<dt>Variable</dt>
<dd><p>Description
</p></dd>
<dt><code class="code">status</code></dt>
<dd><p>.Lk decode.html#sys &quot;system status word&quot;
</p></dd>
<dt><code class="code">version</code></dt>
<dd><p>NTP software version and build time
</p></dd>
<dt><code class="code">processor</code></dt>
<dd><p>hardware platform and version
</p></dd>
<dt><code class="code">system</code></dt>
<dd><p>operating system and version
</p></dd>
<dt><code class="code">leap</code></dt>
<dd><p>leap warning indicator (0-3)
</p></dd>
<dt><code class="code">stratum</code></dt>
<dd><p>stratum (1-15)
</p></dd>
<dt><code class="code">precision</code></dt>
<dd><p>precision (log2 s)
</p></dd>
<dt><code class="code">rootdelay</code></dt>
<dd><p>total roundtrip delay to the primary reference clock
</p></dd>
<dt><code class="code">rootdisp</code></dt>
<dd><p>total dispersion to the primary reference clock
</p></dd>
<dt><code class="code">refid</code></dt>
<dd><p>reference id or
.Lk decode.html#kiss &quot;kiss code&quot;
</p></dd>
<dt><code class="code">reftime</code></dt>
<dd><p>reference time
</p></dd>
<dt><code class="code">clock</code></dt>
<dd><p>date and time of day
</p></dd>
<dt><code class="code">peer</code></dt>
<dd><p>system peer association id
</p></dd>
<dt><code class="code">tc</code></dt>
<dd><p>time constant and poll exponent (log2 s) (3-17)
</p></dd>
<dt><code class="code">mintc</code></dt>
<dd><p>minimum time constant (log2 s) (3-10)
</p></dd>
<dt><code class="code">offset</code></dt>
<dd><p>combined offset of server relative to this host
</p></dd>
<dt><code class="code">frequency</code></dt>
<dd><p>frequency drift (PPM) relative to hardware clock
</p></dd>
<dt><code class="code">sys_jitter</code></dt>
<dd><p>combined system jitter
</p></dd>
<dt><code class="code">clk_wander</code></dt>
<dd><p>clock frequency wander (PPM)
</p></dd>
<dt><code class="code">clk_jitter</code></dt>
<dd><p>clock jitter
</p></dd>
<dt><code class="code">tai</code></dt>
<dd><p>TAI-UTC offset (s)
</p></dd>
<dt><code class="code">leapsec</code></dt>
<dd><p>NTP seconds when the next leap second is/was inserted
</p></dd>
<dt><code class="code">expire</code></dt>
<dd><p>NTP seconds when the NIST leapseconds file expires
</p></dd>
</dl>
<p>The jitter and wander statistics are exponentially-weighted RMS averages.
The system jitter is defined in the NTPv4 specification;
the clock jitter statistic is computed by the clock discipline module.
</p>
<p>When the NTPv4 daemon is compiled with the OpenSSL software library,
additional system variables are displayed,
including some or all of the following,
depending on the particular Autokey dance:
</p><dl class="table">
<dt>Variable</dt>
<dd><p>Description
</p></dd>
<dt><code class="code">host</code></dt>
<dd><p>Autokey host name for this host
</p></dd>
<dt><code class="code">ident</code></dt>
<dd><p>Autokey group name for this host
</p></dd>
<dt><code class="code">flags</code></dt>
<dd><p>host flags  (see Autokey specification)
</p></dd>
<dt><code class="code">digest</code></dt>
<dd><p>OpenSSL message digest algorithm
</p></dd>
<dt><code class="code">signature</code></dt>
<dd><p>OpenSSL digest/signature scheme
</p></dd>
<dt><code class="code">update</code></dt>
<dd><p>NTP seconds at last signature update
</p></dd>
<dt><code class="code">cert</code></dt>
<dd><p>certificate subject, issuer and certificate flags
</p></dd>
<dt><code class="code">until</code></dt>
<dd><p>NTP seconds when the certificate expires
</p></dd>
</dl>
</div>
<div class="subsubsection-level-extent" id="Peer-Variables-1">
<h4 class="subsubsection"><span>1.1.1.4 Peer Variables<a class="copiable-link" href="#Peer-Variables-1"> &para;</a></span></h4>
<p>The following peer variables appear in the
<code class="code">readlist</code>
billboard for each association.
Not all variables are displayed in some configurations.
</p>
<dl class="table">
<dt>Variable</dt>
<dd><p>Description
</p></dd>
<dt><code class="code">associd</code></dt>
<dd><p>association id
</p></dd>
<dt><code class="code">status</code></dt>
<dd><p>.Lk decode.html#peer &quot;peer status word&quot;
</p></dd>
<dt><code class="code">srcadr</code></dt>
<dd><p>source (remote) IP address
</p></dd>
<dt><code class="code">srcport</code></dt>
<dd><p>source (remote) port
</p></dd>
<dt><code class="code">dstadr</code></dt>
<dd><p>destination (local) IP address
</p></dd>
<dt><code class="code">dstport</code></dt>
<dd><p>destination (local) port
</p></dd>
<dt><code class="code">leap</code></dt>
<dd><p>leap indicator (0-3)
</p></dd>
<dt><code class="code">stratum</code></dt>
<dd><p>stratum (0-15)
</p></dd>
<dt><code class="code">precision</code></dt>
<dd><p>precision (log2 s)
</p></dd>
<dt><code class="code">rootdelay</code></dt>
<dd><p>total roundtrip delay to the primary reference clock
</p></dd>
<dt><code class="code">rootdisp</code></dt>
<dd><p>total root dispersion to the primary reference clock
</p></dd>
<dt><code class="code">refid</code></dt>
<dd><p>reference id or
.Lk decode.html#kiss &quot;kiss code&quot;
</p></dd>
<dt><code class="code">reftime</code></dt>
<dd><p>reference time
</p></dd>
<dt><code class="code">rec</code></dt>
<dd><p>last packet received time
</p></dd>
<dt><code class="code">reach</code></dt>
<dd><p>reach register (octal)
</p></dd>
<dt><code class="code">unreach</code></dt>
<dd><p>unreach counter
</p></dd>
<dt><code class="code">hmode</code></dt>
<dd><p>host mode (1-6)
</p></dd>
<dt><code class="code">pmode</code></dt>
<dd><p>peer mode (1-5)
</p></dd>
<dt><code class="code">hpoll</code></dt>
<dd><p>host poll exponent (log2 s) (3-17)
</p></dd>
<dt><code class="code">ppoll</code></dt>
<dd><p>peer poll exponent (log2 s) (3-17)
</p></dd>
<dt><code class="code">headway</code></dt>
<dd><p>headway (see
.Lk rate.html &quot;Rate Management and the Kiss-o&rsquo;-Death Packet&quot; )
</p></dd>
<dt><code class="code">flash</code></dt>
<dd><p>.Lk decode.html#flash &quot;flash status word&quot;
</p></dd>
<dt><code class="code">keyid</code></dt>
<dd><p>symmetric key id
</p></dd>
<dt><code class="code">offset</code></dt>
<dd><p>filter offset
</p></dd>
<dt><code class="code">delay</code></dt>
<dd><p>filter delay
</p></dd>
<dt><code class="code">dispersion</code></dt>
<dd><p>filter dispersion
</p></dd>
<dt><code class="code">jitter</code></dt>
<dd><p>filter jitter
</p></dd>
<dt><code class="code">bias</code></dt>
<dd><p>unicast/broadcast bias
</p></dd>
<dt><code class="code">xleave</code></dt>
<dd><p>interleave delay (see
.Lk xleave.html &quot;NTP Interleaved Modes&quot; )
</p></dd>
</dl>
<p>The
<code class="code">bias</code>
variable is calculated when the first broadcast packet is received
after the calibration volley.
It represents the offset of the broadcast subgraph relative to the
unicast subgraph.
The
<code class="code">xleave</code>
variable appears only for the interleaved symmetric and interleaved modes.
It represents the internal queuing, buffering and transmission delays
for the preceding packet.
</p>
<p>When the NTPv4 daemon is compiled with the OpenSSL software library,
additional peer variables are displayed, including the following:
</p><dl class="table">
<dt>Variable</dt>
<dd><p>Description
</p></dd>
<dt><code class="code">flags</code></dt>
<dd><p>peer flags (see Autokey specification)
</p></dd>
<dt><code class="code">host</code></dt>
<dd><p>Autokey server name
</p></dd>
<dt><code class="code">flags</code></dt>
<dd><p>peer flags (see Autokey specification)
</p></dd>
<dt><code class="code">signature</code></dt>
<dd><p>OpenSSL digest/signature scheme
</p></dd>
<dt><code class="code">initsequence</code></dt>
<dd><p>initial key id
</p></dd>
<dt><code class="code">initkey</code></dt>
<dd><p>initial key index
</p></dd>
<dt><code class="code">timestamp</code></dt>
<dd><p>Autokey signature timestamp
</p></dd>
<dt><code class="code">ident</code></dt>
<dd><p>Autokey group name for this association
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Clock-Variables-1">
<h4 class="subsubsection"><span>1.1.1.5 Clock Variables<a class="copiable-link" href="#Clock-Variables-1"> &para;</a></span></h4>
<p>The following clock variables appear in the
<code class="code">clocklist</code>
billboard for each association with a reference clock.
Not all variables are displayed in some configurations.
</p><dl class="table">
<dt>Variable</dt>
<dd><p>Description
</p></dd>
<dt><code class="code">associd</code></dt>
<dd><p>association id
</p></dd>
<dt><code class="code">status</code></dt>
<dd><p>.Lk decode.html#clock &quot;clock status word&quot;
</p></dd>
<dt><code class="code">device</code></dt>
<dd><p>device description
</p></dd>
<dt><code class="code">timecode</code></dt>
<dd><p>ASCII time code string (specific to device)
</p></dd>
<dt><code class="code">poll</code></dt>
<dd><p>poll messages sent
</p></dd>
<dt><code class="code">noreply</code></dt>
<dd><p>no reply
</p></dd>
<dt><code class="code">badformat</code></dt>
<dd><p>bad format
</p></dd>
<dt><code class="code">baddata</code></dt>
<dd><p>bad date or time
</p></dd>
<dt><code class="code">fudgetime1</code></dt>
<dd><p>fudge time 1
</p></dd>
<dt><code class="code">fudgetime2</code></dt>
<dd><p>fudge time 2
</p></dd>
<dt><code class="code">stratum</code></dt>
<dd><p>driver stratum
</p></dd>
<dt><code class="code">refid</code></dt>
<dd><p>driver reference id
</p></dd>
<dt><code class="code">flags</code></dt>
<dd><p>driver flags
</p></dd>
</dl>

<p>This section was generated by <strong class="strong">AutoGen</strong>,
using the <code class="code">agtexi-cmd</code> template and the option descriptions for the <code class="code">ntpq</code> program.
This software is released under the NTP license, &lt;http://ntp.org/license&gt;.
</p>

<hr>
</div>
</div>
<div class="subsection-level-extent" id="ntpq-usage">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-ipv4" accesskey="n" rel="next">ipv4 option (-4)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="ntpq-help_002fusage-_0028_002d_002dhelp_0029"><span>1.1.2 ntpq help/usage (<samp class="option">--help</samp>)<a class="copiable-link" href="#ntpq-help_002fusage-_0028_002d_002dhelp_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq-help"></a>

<p>This is the automatically generated usage text for ntpq.
</p>
<p>The text printed is the same whether selected with the <code class="code">help</code> option
(<samp class="option">--help</samp>) or the <code class="code">more-help</code> option (<samp class="option">--more-help</samp>).  <code class="code">more-help</code> will print
the usage text by passing it through a pager program.
<code class="code">more-help</code> is disabled on platforms without a working
<code class="code">fork(2)</code> function.  The <code class="code">PAGER</code> environment variable is
used to select the program, defaulting to <samp class="file">more</samp>.  Both will exit
with a status code of 0.
</p>
<div class="example">
<pre class="example-preformatted">ntpq - standard NTP query program - Ver. 4.2.8p17
Usage:  ntpq [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... [ host ...]
  Flg Arg Option-Name    Description
   -4 no  ipv4           Force IPv4 name resolution
                                - prohibits the option 'ipv6'
   -6 no  ipv6           Force IPv6 name resolution
                                - prohibits the option 'ipv4'
   -c Str command        run a command and exit
                                - may appear multiple times
   -d no  debug-level    Increase debug verbosity level
                                - may appear multiple times
   -D Num set-debug-level Set the debug verbosity level
                                - may appear multiple times
   -i no  interactive    Force ntpq to operate in interactive mode
                                - prohibits these options:
                                command
                                peers
   -n no  numeric        numeric host addresses
      no  old-rv         Always output status line with readvar
   -p no  peers          Print a list of the peers
                                - prohibits the option 'interactive'
   -r KWd refid          Set default display type for S2+ refids
   -u no  unconnected    Use unconnected UDP to communicate with ntpd (default on Windows)
   -w no  wide           Display the full 'remote' value
      opt version        output version information and exit
   -? no  help           display extended usage information and exit
   -! no  more-help      extended usage information passed thru pager
   -&gt; opt save-opts      save the option state to a config file
   -&lt; Str load-opts      load options from a config file
                                - disabled as '--no-load-opts'
                                - may appear multiple times

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.

The following option preset mechanisms are supported:
 - reading file $HOME/.ntprc
 - reading file ./.ntprc
 - examining environment variables named NTPQ_*

The valid &quot;refid&quot; option keywords are:
  hash ipv4
  or an integer from 0 through 1

Please send bug reports to:  &lt;https://bugs.ntp.org, bugs@ntp.org&gt;
</pre></div>

<hr>
</div>
<div class="subsection-level-extent" id="ntpq-ipv4">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-ipv6" accesskey="n" rel="next">ipv6 option (-6)</a>, Previous: <a href="#ntpq-usage" accesskey="p" rel="prev">ntpq help/usage (<samp class="option">--help</samp>)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="ipv4-option-_0028_002d4_0029"><span>1.1.3 ipv4 option (-4)<a class="copiable-link" href="#ipv4-option-_0028_002d4_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dipv4"></a>

<p>This is the &ldquo;force ipv4 name resolution&rdquo; option.
</p>
<p>This option has some usage constraints.  It:
</p><ul class="itemize mark-bullet">
<li>must not appear in combination with any of the following options:
ipv6.
</li></ul>

<p>Force resolution of following host names on the command line
to the IPv4 namespace.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-ipv6">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-command" accesskey="n" rel="next">command option (-c)</a>, Previous: <a href="#ntpq-ipv4" accesskey="p" rel="prev">ipv4 option (-4)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="ipv6-option-_0028_002d6_0029"><span>1.1.4 ipv6 option (-6)<a class="copiable-link" href="#ipv6-option-_0028_002d6_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dipv6"></a>

<p>This is the &ldquo;force ipv6 name resolution&rdquo; option.
</p>
<p>This option has some usage constraints.  It:
</p><ul class="itemize mark-bullet">
<li>must not appear in combination with any of the following options:
ipv4.
</li></ul>

<p>Force resolution of following host names on the command line
to the IPv6 namespace.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-command">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-interactive" accesskey="n" rel="next">interactive option (-i)</a>, Previous: <a href="#ntpq-ipv6" accesskey="p" rel="prev">ipv6 option (-6)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="command-option-_0028_002dc_0029"><span>1.1.5 command option (-c)<a class="copiable-link" href="#command-option-_0028_002dc_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dcommand"></a>

<p>This is the &ldquo;run a command and exit&rdquo; option.
This option takes a string argument <samp class="file">cmd</samp>.
</p>
<p>This option has some usage constraints.  It:
</p><ul class="itemize mark-bullet">
<li>may appear an unlimited number of times.
</li></ul>

<p>The following argument is interpreted as an interactive format command
and is added to the list of commands to be executed on the specified
host(s).
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-interactive">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-numeric" accesskey="n" rel="next">numeric option (-n)</a>, Previous: <a href="#ntpq-command" accesskey="p" rel="prev">command option (-c)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="interactive-option-_0028_002di_0029"><span>1.1.6 interactive option (-i)<a class="copiable-link" href="#interactive-option-_0028_002di_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dinteractive"></a>

<p>This is the &ldquo;force ntpq to operate in interactive mode&rdquo; option.
</p>
<p>This option has some usage constraints.  It:
</p><ul class="itemize mark-bullet">
<li>must not appear in combination with any of the following options:
command, peers.
</li></ul>

<p>Force <code class="code">ntpq</code> to operate in interactive mode.
Prompts will be written to the standard output and
commands read from the standard input.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-numeric">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-old_002drv" accesskey="n" rel="next">old-rv option</a>, Previous: <a href="#ntpq-interactive" accesskey="p" rel="prev">interactive option (-i)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="numeric-option-_0028_002dn_0029"><span>1.1.7 numeric option (-n)<a class="copiable-link" href="#numeric-option-_0028_002dn_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dnumeric"></a>

<p>This is the &ldquo;numeric host addresses&rdquo; option.
Output all host addresses in dotted-quad numeric format rather than
converting to the canonical host names.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-old_002drv">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-peers" accesskey="n" rel="next">peers option (-p)</a>, Previous: <a href="#ntpq-numeric" accesskey="p" rel="prev">numeric option (-n)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="old_002drv-option"><span>1.1.8 old-rv option<a class="copiable-link" href="#old_002drv-option"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dold_002drv"></a>

<p>This is the &ldquo;always output status line with readvar&rdquo; option.
By default, <code class="code">ntpq</code> now suppresses the <code class="code">associd=...</code>
line that precedes the output of <code class="code">readvar</code>
(alias <code class="code">rv</code>) when a single variable is requested, such as
<code class="code">ntpq -c &quot;rv 0 offset&quot;</code>.
This option causes <code class="code">ntpq</code> to include both lines of output
for a single-variable <code class="code">readvar</code>.
Using an environment variable to
preset this option in a script will enable both older and
newer <code class="code">ntpq</code> to behave identically in this regard.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-peers">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-refid" accesskey="n" rel="next">refid option (-r)</a>, Previous: <a href="#ntpq-old_002drv" accesskey="p" rel="prev">old-rv option</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="peers-option-_0028_002dp_0029"><span>1.1.9 peers option (-p)<a class="copiable-link" href="#peers-option-_0028_002dp_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dpeers"></a>

<p>This is the &ldquo;print a list of the peers&rdquo; option.
</p>
<p>This option has some usage constraints.  It:
</p><ul class="itemize mark-bullet">
<li>must not appear in combination with any of the following options:
interactive.
</li></ul>

<p>Print a list of the peers known to the server as well as a summary
of their state. This is equivalent to the &rsquo;peers&rsquo; interactive command.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-refid">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-unconnected" accesskey="n" rel="next">unconnected option (-u)</a>, Previous: <a href="#ntpq-peers" accesskey="p" rel="prev">peers option (-p)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="refid-option-_0028_002dr_0029"><span>1.1.10 refid option (-r)<a class="copiable-link" href="#refid-option-_0028_002dr_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002drefid"></a>

<p>This is the &ldquo;set default display type for s2+ refids&rdquo; option.
This option takes a keyword argument.
</p>
<p>This option has some usage constraints.  It:
</p><ul class="itemize mark-bullet">
<li>This option takes a keyword as its argument.
The argument sets an enumeration value that can be tested by comparing the option value macro (OPT_VALUE_REFID).
The available keywords are:
<div class="example">
<pre class="example-preformatted">    hash ipv4
</pre></div>

<p>or their numeric equivalent.
</p></li></ul>

<p>Set the default display format for S2+ refids.
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-unconnected">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-wide" accesskey="n" rel="next">wide option (-w)</a>, Previous: <a href="#ntpq-refid" accesskey="p" rel="prev">refid option (-r)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="unconnected-option-_0028_002du_0029"><span>1.1.11 unconnected option (-u)<a class="copiable-link" href="#unconnected-option-_0028_002du_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dunconnected"></a>

<p>This is the &ldquo;use unconnected udp to communicate with ntpd (default on windows)&rdquo; option.
Open an unconnected UDP association to ntpd (the default
on Windows).
</p><hr>
</div>
<div class="subsection-level-extent" id="ntpq-wide">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-config" accesskey="n" rel="next">presetting/configuring ntpq</a>, Previous: <a href="#ntpq-unconnected" accesskey="p" rel="prev">unconnected option (-u)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="wide-option-_0028_002dw_0029"><span>1.1.12 wide option (-w)<a class="copiable-link" href="#wide-option-_0028_002dw_0029"> &para;</a></span></h4>
<a class="index-entry-id" id="index-ntpq_002dwide"></a>

<p>This is the &ldquo;display the full &rsquo;remote&rsquo; value&rdquo; option.
Display the full value of the &rsquo;remote&rsquo; value.  If this requires
more than 15 characters, display the full value, emit a newline,
and continue the data display properly indented on the next line.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="ntpq-config">
<div class="nav-panel">
<p>
Next: <a href="#ntpq-exit-status" accesskey="n" rel="next">ntpq exit status</a>, Previous: <a href="#ntpq-wide" accesskey="p" rel="prev">wide option (-w)</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="presetting_002fconfiguring-ntpq"><span>1.1.13 presetting/configuring ntpq<a class="copiable-link" href="#presetting_002fconfiguring-ntpq"> &para;</a></span></h4>

<p>Any option that is not marked as <i class="i">not presettable</i> may be preset by
loading values from configuration (&quot;rc&quot; or &quot;ini&quot;) files, and values from environment variables named <code class="code">NTPQ</code> and <code class="code">NTPQ_&lt;OPTION_NAME&gt;</code>.  <code class="code">&lt;OPTION_NAME&gt;</code> must be one of
the options listed above in upper case and segmented with underscores.
The <code class="code">NTPQ</code> variable will be tokenized and parsed like
the command line.  The remaining variables are tested for existence and their
values are treated like option arguments.
</p>

<p><code class="code">libopts</code> will search in 2 places for configuration files:
</p><ul class="itemize mark-bullet">
<li>$HOME
</li><li>$PWD
</li></ul>
<p>The environment variables <code class="code">HOME</code>, and <code class="code">PWD</code>
are expanded and replaced when <samp class="file">ntpq</samp> runs.
For any of these that are plain files, they are simply processed.
For any that are directories, then a file named <samp class="file">.ntprc</samp> is searched for
within that directory and processed.
</p>
<p>Configuration files may be in a wide variety of formats.
The basic format is an option name followed by a value (argument) on the
same line.  Values may be separated from the option name with a colon,
equal sign or simply white space.  Values may be continued across multiple
lines by escaping the newline with a backslash.
</p>
<p>Multiple programs may also share the same initialization file.
Common options are collected at the top, followed by program specific
segments.  The segments are separated by lines like:
</p><div class="example">
<pre class="example-preformatted">[NTPQ]
</pre></div>
<p>or by
</p><div class="example">
<pre class="example-preformatted">&lt;?program ntpq&gt;
</pre></div>
<p>Do not mix these styles within one configuration file.
</p>
<p>Compound values and carefully constructed string values may also be
specified using XML syntax:
</p><div class="example">
<pre class="example-preformatted">&lt;option-name&gt;
   &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
&lt;/option-name&gt;
</pre></div>
<p>yielding an <code class="code">option-name.sub-opt</code> string value of
</p><div class="example">
<pre class="example-preformatted">&quot;...&lt;...&gt;...&quot;
</pre></div>
<p><code class="code">AutoOpts</code> does not track suboptions.  You simply note that it is a
hierarchicly valued option.  <code class="code">AutoOpts</code> does provide a means for searching
the associated name/value pair list (see: optionFindValue).
</p>
<p>The command line options relating to configuration and/or usage help are:
</p>
<h4 class="subsubheading" id="version-_0028_002d_0029"><span>version (-)<a class="copiable-link" href="#version-_0028_002d_0029"> &para;</a></span></h4>

<p>Print the program version to standard out, optionally with licensing
information, then exit 0.  The optional argument specifies how much licensing
detail to provide.  The default is to print just the version.  The licensing information may be selected with an option argument.
Only the first letter of the argument is examined:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">version</samp>&rsquo;</dt>
<dd><p>Only print the version.  This is the default.
</p></dd>
<dt>&lsquo;<samp class="samp">copyright</samp>&rsquo;</dt>
<dd><p>Name the copyright usage licensing terms.
</p></dd>
<dt>&lsquo;<samp class="samp">verbose</samp>&rsquo;</dt>
<dd><p>Print the full copyright usage licensing terms.
</p></dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="ntpq-exit-status">
<div class="nav-panel">
<p>
Previous: <a href="#ntpq-config" accesskey="p" rel="prev">presetting/configuring ntpq</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">Invoking ntpq</a> &nbsp; </p>
</div>
<h4 class="subsection" id="ntpq-exit-status-1"><span>1.1.14 ntpq exit status<a class="copiable-link" href="#ntpq-exit-status-1"> &para;</a></span></h4>

<p>One of the following exit values will be returned:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
<dd><p>Successful program execution.
</p></dd>
<dt>&lsquo;<samp class="samp">1 (EXIT_FAILURE)</samp>&rsquo;</dt>
<dd><p>The operation failed or the command syntax was not valid.
</p></dd>
<dt>&lsquo;<samp class="samp">66 (EX_NOINPUT)</samp>&rsquo;</dt>
<dd><p>A specified configuration file could not be loaded.
</p></dd>
<dt>&lsquo;<samp class="samp">70 (EX_SOFTWARE)</samp>&rsquo;</dt>
<dd><p>libopts had an internal operational error.  Please report
it to autogen-users@lists.sourceforge.net.  Thank you.
</p></dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="Usage">
<div class="nav-panel">
<p>
Next: <a href="#Internal-Commands" accesskey="n" rel="next">Internal Commands</a>, Previous: <a href="#ntpq-Description" accesskey="p" rel="prev">Description</a>, Up: <a href="#Top" accesskey="u" rel="up">ntpq: Network Time Protocol Query User Manual</a> &nbsp; </p>
</div>
<h3 class="section" id="Usage-1"><span>1.2 Usage<a class="copiable-link" href="#Usage-1"> &para;</a></span></h3>

<table class="multitable">
<thead><tr><th width="23%">What</th><th width="23%">Default</th><th width="5%">Flag</th><th width="15%">Option</th></tr></thead>
<tbody><tr><td width="23%">configuration file</td><td width="23%"><code class="code">/etc/ntp.conf</code></td><td width="5%"><code class="code">-c</code></td><td width="15%"><code class="code">conffile</code></td></tr>
<tr><td width="23%">frequency file</td><td width="23%">none</td><td width="5%"><code class="code">-f</code></td><td width="15%"><code class="code">driftfile</code></td></tr>
<tr><td width="23%">leapseconds file</td><td width="23%">none</td><td width="5%"></td><td width="15%"><code class="code">leapfile</code></td></tr>
<tr><td width="23%">process ID file</td><td width="23%">none</td><td width="5%"><code class="code">-p</code></td><td width="15%"><code class="code">pidfile</code></td></tr>
<tr><td width="23%">log file</td><td width="23%">system log</td><td width="5%"><code class="code">-l</code></td><td width="15%"><code class="code">logfile</code></td></tr>
<tr><td width="23%">include file</td><td width="23%">none</td><td width="5%">none</td><td width="15%"><code class="code">includefile</code></td></tr>
<tr><td width="23%">statistics path</td><td width="23%"><code class="code">/var/NTP</code></td><td width="5%"><code class="code">-s</code></td><td width="15%"><code class="code">statsdir</code></td></tr>
<tr><td width="23%">keys path</td><td width="23%"><code class="code">/usr/local/etc</code></td><td width="5%"><code class="code">-k</code></td><td width="15%"><code class="code">keysdir</code></td></tr>
</tbody>
</table>

<hr>
</div>
<div class="section-level-extent" id="Internal-Commands">
<div class="nav-panel">
<p>
Next: <a href="#Control-Message-Commands" accesskey="n" rel="next">Control Message Commands</a>, Previous: <a href="#Usage" accesskey="p" rel="prev">Usage</a>, Up: <a href="#Top" accesskey="u" rel="up">ntpq: Network Time Protocol Query User Manual</a> &nbsp; </p>
</div>
<h3 class="section" id="Internal-Commands-2"><span>1.3 Internal Commands<a class="copiable-link" href="#Internal-Commands-2"> &para;</a></span></h3>

<p>Interactive format commands consist of a keyword followed by zero to four arguments.  Only enough characters of the full keyword to uniquely identify the command need be typed.  The output of a command is normally sent to the standard output, but optionally the output of individual commands may be sent to a file by appending a <code class="code">&gt;</code>, followed by a file name, to the command line.  A number of interactive format commands are executed entirely within the <code class="code">ntpq</code> program itself and do not result in NTP mode-6 requests being sent to a server.  These are described following.
</p>
<dl class="table">
<dt><code class="code"><a class="anchor" id="help"></a><code class="code">? [</code><kbd class="kbd">command_keyword</kbd><code class="code">]</code></code></dt>
<dt><code class="code"><code class="code">help [</code><kbd class="kbd">command_keyword</kbd><code class="code">]</code></code></dt>
<dd><p>A <code class="code">?</code> by itself will print a list of all the command keywords known to <code class="code">ntpq</code>.  A <code class="code">?</code> followed by a command keyword will print function and usage information about the command.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="addvars"></a>&gt;<code class="code">addvars <kbd class="kbd">name</kbd> [ = <kbd class="kbd">value</kbd>] [...]</code></code></dt>
<dt><code class="code"><code class="code">rmvars <kbd class="kbd">name</kbd> [...]</code></code></dt>
<dt><code class="code"><code class="code">clearvars</code>&lt;/dt&gt;</code></dt>
<dd><p>The arguments to these commands consist of a list of items of the form
<code class="code"><kbd class="kbd">name</kbd> = <kbd class="kbd">value</kbd></code>, where the <code class="code">= <kbd class="kbd">value</kbd></code> is ignored,
and can be omitted in read requests.
<code class="code">ntpq</code> maintains an internal list in which data to be included
in control messages can be assembled, and sent using the <code class="code">readlist</code>
and <code class="code">writelist</code> commands described below.
The <code class="code">addvars</code> command allows variables and optional values
to be added to the list.
If more than one variable is to be added
the list should be comma-separated and not contain white space.
The <code class="code">rmvars</code> command can be used to remove individual variables
from the list,
while the <code class="code">clearlist</code> command removes all variables from the list.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="cooked"></a><code class="code">cooked</code></code></dt>
<dd><p>Display server messages in prettyprint format.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="debug"></a><code class="code">debug more | less | off</code></code></dt>
<dd><p>Turns internal query program debugging on and off.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="delay"></a><code class="code">delay <kbd class="kbd">milliseconds</kbd></code></code></dt>
<dd><p>Specify a time interval to be added to timestamps included in requests which require authentication.  This is used to enable (unreliable) server reconfiguration over long delay network paths or between machines whose clocks are unsynchronized.  Actually the server does not now require timestamps in authenticated requests, so this command may be obsolete.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="host"></a><code class="code">host <kbd class="kbd">name</kbd></code></code></dt>
<dd><p>Set the host to which future queries will be sent.
The name may be either a DNS name or a numeric address.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="hostnames"></a><code class="code">hostnames [yes | no]</code></code></dt>
<dd><p>If <code class="code">yes</code> is specified, host names are printed in information displays.
If <code class="code">no</code> is specified, numeric addresses are printed instead.
The default is <code class="code">yes</code>,
unless modified using the command line <code class="code">-n</code> switch.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="keyid"></a><code class="code">keyid <kbd class="kbd">keyid</kbd></code></code></dt>
<dd><p>This command specifies the key number to be used
to authenticate configuration requests.
This must correspond to a key ID configured in <code class="code">ntp.conf</code> for this purpose.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="keytype"></a><code class="code">keytype</code></code></dt>
<dd><p>Specify the digest algorithm to use for authenticated requests,
with default <code class="code">MD5</code>.
If the OpenSSL library is installed,
digest can be be any message digest algorithm supported by the library.
The current selections are: <code class="code">AES128CMAC</code>, <code class="code">MD2</code>, <code class="code">MD4</code>, <code class="code">MD5</code>, <code class="code">MDC2</code>, <code class="code">RIPEMD160</code>, <code class="code">SHA</code> and <code class="code">SHA1</code>.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="ntpversion"></a><code class="code">ntpversion 1 | 2 | 3 | 4</code></code></dt>
<dd><p>Sets the NTP version number which <code class="code">ntpq</code> claims in packets.
Defaults to 2.
Note that mode-6 control messages (and modes, for that matter)
didn&rsquo;t exist in NTP version 1.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="passwd"></a><code class="code">passwd</code></code></dt>
<dd><p>This command prompts for a password to authenticate requests.
The password must correspond to the key ID configured in <code class="code">ntp.conf</code> for this purpose.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="quit"></a><code class="code">quit</code></code></dt>
<dd><p>Exit <code class="code">ntpq</code>.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="raw"></a><code class="code">raw</code></code></dt>
<dd><p>Display server messages as received and without reformatting.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="timeout"></a><code class="code">timeout <kbd class="kbd">milliseconds</kbd></code></code></dt>
<dd><p>Specify a timeout period for responses to server queries.
The default is about 5000 milliseconds.
Note that since <code class="code">ntpq</code> retries each query once after a timeout
the total waiting time for a timeout will be twice the timeout value set.
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="Control-Message-Commands">
<div class="nav-panel">
<p>
Next: <a href="#Status-Words-and-Kiss-Codes" accesskey="n" rel="next">Status Words and Kiss Codes</a>, Previous: <a href="#Internal-Commands" accesskey="p" rel="prev">Internal Commands</a>, Up: <a href="#Top" accesskey="u" rel="up">ntpq: Network Time Protocol Query User Manual</a> &nbsp; </p>
</div>
<h3 class="section" id="Control-Message-Commands-2"><span>1.4 Control Message Commands<a class="copiable-link" href="#Control-Message-Commands-2"> &para;</a></span></h3>

<p>Association IDs are used to identify system, peer and clock variables.
System variables are assigned an association ID of zero and system name space,
while each association is assigned a nonzero association ID and peer namespace.
Most control commands send a single mode-6 message to the server
and expect a single response message.
The exceptions are the <code class="code">peers</code> command,
which sends a series of messages,
and the <code class="code">mreadlist</code> and <code class="code">mreadvar</code> commands,
which iterate over a range of associations.
</p>
<a class="anchor" id="as"></a><dl class="table">
<dt><code class="code"><code class="code">associations</code></code></dt>
<dd><p>Display a list of mobilized associations in the form:
<br>
<code class="code">ind assid status conf reach auth condition last_event cnt</code>
</p>
<table class="multitable">
<thead><tr><th width="10%">Variable</th><th width="40%">Description</th></tr></thead>
<tbody><tr><td width="10%"><code class="code">ind</code></td><td width="40%">index on this list</td></tr>
<tr><td width="10%"><code class="code">assid</code></td><td width="40%">association ID</td></tr>
<tr><td width="10%"><code class="code">status</code></td><td width="40%"><a class="url" href="decode.html#peer">peer status word</a></td></tr>
<tr><td width="10%"><code class="code">conf</code></td><td width="40%"><code class="code">yes</code>: persistent, <code class="code">no</code>: ephemeral</td></tr>
<tr><td width="10%"><code class="code">reach</code></td><td width="40%"><code class="code">yes</code>: reachable, <code class="code">no</code>: unreachable</td></tr>
<tr><td width="10%"><code class="code">auth</code></td><td width="40%"><code class="code">ok</code>, <code class="code">yes</code>, <code class="code">bad</code> and <code class="code">none</code></td></tr>
<tr><td width="10%"><code class="code">condition</code></td><td width="40%">selection status (see the <code class="code">select</code> field of the <a class="url" href="decode.html#peer">peer status word</a>)</td></tr>
<tr><td width="10%"><code class="code">last_event</code></td><td width="40%">event report (see the <code class="code">event</code> field of the <a class="url" href="decode.html#peer">peer status word</a>)</td></tr>
<tr><td width="10%"><code class="code">cnt</code>
event count (see the <code class="code">count</code> field of the <a class="url" href="decode.html#peer">peer status word</a>)</td></tr>
</tbody>
</table>

</dd>
<dt><code class="code"><a class="anchor" id="cv"></a>clockvar <kbd class="kbd">assocID</kbd> [<kbd class="kbd">name</kbd> [ = <kbd class="kbd">value</kbd> [...]] [...]]</code></dt>
<dt><code class="code">cv <kbd class="kbd">assocID</kbd> [<kbd class="kbd">name</kbd> [ = <kbd class="kbd">value</kbd> [...] ][...]]</code></dt>
<dd><p>Display a list of &lsquo;clock variables&rsquo; for those associations supporting a reference clock.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="g_t_003aconfig"></a>:config [...]</code></dt>
<dd><p>Send the remainder of the command line, including whitespace, to the server
as a run-time configuration command in the same format
as the configuration file.
This command is experimental until further notice and clarification.
Authentication is of course required.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="config_002dfrom_002dfile"></a>config-from-file <kbd class="kbd">filename</kbd></code></dt>
<dd><p>Send the each line of <kbd class="kbd">filename</kbd> to the server as
run-time configuration commands in the same format as the configuration file.
This command is experimental until further notice and clarification.
Authentication is required.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="ifstats"></a>ifstats</code></dt>
<dd><p>Display statistics for each local network address.
Authentication is required.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="iostats"></a>iostats</code></dt>
<dd><p>Display network and reference clock I/O statistics.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="kerninfo"></a>kerninfo</code></dt>
<dd><p>Display kernel loop and PPS statistics.
As with other ntpq output, times are in milliseconds.
The precision value displayed is in milliseconds as well,
unlike the precision system variable.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="lassoc"></a>lassociations</code></dt>
<dd><p>Perform the same function as the associations command,
except display mobilized and unmobilized associations.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="monstats"></a>monstats</code></dt>
<dd><p>Display monitor facility statistics.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="mrulist"></a>mrulist [limited | kod | mincount=<kbd class="kbd">count</kbd> | laddr=<kbd class="kbd">localaddr</kbd> | sort=<kbd class="kbd">sortorder</kbd> | resany=<kbd class="kbd">hexmask</kbd> | resall=<kbd class="kbd">hexmask</kbd>]</code></dt>
<dd><p>Obtain and print traffic counts collected and maintained by
the monitor facility.
With the exception of <code class="code">sort=<kbd class="kbd">sortorder</kbd></code>,
the options filter the list returned by <code class="code">ntpd</code>.
The <code class="code">limited</code> and <code class="code">kod</code> options return only entries
representing client addresses from which the last packet received
triggered either discarding or a KoD response.
The <code class="code">mincount=<kbd class="kbd">count</kbd></code> option filters entries representing
less than <code class="code"><kbd class="kbd">count</kbd></code> packets.
The <code class="code">laddr=<kbd class="kbd">localaddr</kbd></code> option filters entries for packets
received on any local address other than <code class="code"><kbd class="kbd">localaddr</kbd></code>.
<code class="code">resany=<kbd class="kbd">hexmask</kbd></code> and <code class="code">resall=<kbd class="kbd">hexmask</kbd></code>
filter entries containing none or less than all, respectively,
of the bits in <code class="code"><kbd class="kbd">hexmask</kbd></code>, which must begin with <code class="code">0x</code>.
<br>
The <code class="code"><kbd class="kbd">sortorder</kbd></code> defaults to <code class="code">lstint</code> and may be any of
<code class="code">addr</code>, <code class="code">count</code>, <code class="code">avgint</code>, <code class="code">lstint</code>, or
any of those preceded by a minus sign (hyphen) to reverse the sort order.
The output columns are:
</p>
<table class="multitable">
<thead><tr><th width="10%">Column</th><th width="40%">Description</th></tr></thead>
<tbody><tr><td width="10%"><code class="code">lstint</code></td><td width="40%">Interval in s between the receipt of the most recent packet from this
address and the completion of the retrieval of the MRU list by <code class="code">ntpq</code></td></tr>
<tr><td width="10%"><code class="code">avgint</code></td><td width="40%">Average interval in s between packets from this address.</td></tr>
<tr><td width="10%"><code class="code">rstr</code></td><td width="40%">Restriction flags associated with this address.
Most are copied unchanged from the matching <code class="code">restrict</code> command,
however 0x400 (kod) and 0x20 (limited) flags are cleared unless
the last packet from this address triggered a rate control response.</td></tr>
<tr><td width="10%"><code class="code">r</code></td><td width="40%">Rate control indicator, either a period, <code class="code">L</code> or <code class="code">K</code> for
no rate control response, rate limiting by discarding, or
rate limiting with a KoD response, respectively.</td></tr>
<tr><td width="10%"><code class="code">m</code></td><td width="40%">Packet mode.</td></tr>
<tr><td width="10%"><code class="code">v</code></td><td width="40%">Packet version number.</td></tr>
<tr><td width="10%"><code class="code">count</code></td><td width="40%">Packets received from this address.</td></tr>
<tr><td width="10%"><code class="code">rport</code></td><td width="40%">Source port of last packet from this address.</td></tr>
<tr><td width="10%"><code class="code">remote address</code></td><td width="40%">DNS name, numeric address, or address followed by claimed DNS name which
could not be verified in parentheses.</td></tr>
</tbody>
</table>

</dd>
<dt><code class="code"><a class="anchor" id="mreadvar"></a><code class="code">mreadvar <kbd class="kbd">assocID</kbd> <kbd class="kbd">assocID</kbd> [ <kbd class="kbd">variable_name</kbd> [ = <kbd class="kbd">value</kbd>[ ... ]</code></code></dt>
<dt><code class="code"><a class="anchor" id="mrv"></a><code class="code">mrv <kbd class="kbd">assocID</kbd> <kbd class="kbd">assocID</kbd> [ <kbd class="kbd">variable_name</kbd> [ = <kbd class="kbd">value</kbd>[ ... ]</code></code></dt>
<dd><p>Perform the same function as the <code class="code">readvar</code> command,
except for a range of association IDs.
This range is determined from the association list cached by
the most recent <code class="code">associations</code> command.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="passoc"></a><code class="code">passociations</code></code></dt>
<dd><p>Perform the same function as the <code class="code">associations command</code>, except that
it uses previously stored data rather than making a new query.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="pe"></a><code class="code">peers</code></code></dt>
<dd><p>Display a list of peers in the form:
<br>
<code class="code">[tally]remote refid st t when pool reach delay offset jitter</code>
</p>
<table class="multitable">
<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
<tbody><tr><td width="10%"><code class="code">[tally]</code></td><td width="20%">single-character code indicating current value of the <code class="code">select</code> field
of the <a class="url" href="decode.html#peer">peer status word</a>.</td></tr>
<tr><td width="10%"><code class="code">remote</code></td><td width="20%">host name (or IP number) of peer</td></tr>
<tr><td width="10%"><code class="code">refid</code></td><td width="20%">association ID or <a class="url" href="decode.html#kiss">kiss code</a>.</td></tr>
<tr><td width="10%"><code class="code">st</code></td><td width="20%">stratum</td></tr>
<tr><td width="10%"><code class="code">t</code></td><td width="20%"><code class="code">u</code>: unicast or manycast client,
<code class="code">b</code>: broadcast or multicast client,
<code class="code">l</code>: local (reference clock),
<code class="code">s</code>: symmetric (peer),
<code class="code">A</code>: manycast server,
<code class="code">B</code>: broadcast server,
<code class="code">M</code>: multicast server.</td></tr>
<tr><td width="10%"><code class="code">when</code></td><td width="20%">sec/min/hr since last received packet</td></tr>
<tr><td width="10%"><code class="code">poll</code></td><td width="20%">poll interval (log(2) s)</td></tr>
<tr><td width="10%"><code class="code">reach</code></td><td width="20%">reach shift register (octal)</td></tr>
<tr><td width="10%"><code class="code">delay</code></td><td width="20%">roundtrip delay</td></tr>
<tr><td width="10%"><code class="code">offset</code></td><td width="20%">offset of server relative to this host</td></tr>
<tr><td width="10%"><code class="code">jitter</code></td><td width="20%">jitter</td></tr>
</tbody>
</table>

</dd>
<dt><code class="code"><a class="anchor" id="rv"></a>readvar <kbd class="kbd">assocID</kbd> <kbd class="kbd">name</kbd> [ = <kbd class="kbd">value</kbd> ] [,...]</code></dt>
<dt><code class="code">rv <kbd class="kbd">assocID</kbd> [ <kbd class="kbd">name</kbd> ] [,...]</code></dt>
<dd><p>Display the specified variables.
If <code class="code"><kbd class="kbd">assocID</kbd></code> is zero,
the variables are from the &lsquo;system variables&rsquo; name space,
otherwise they are from the &lsquo;peer variables&rsquo; name space.
The <kbd class="kbd">assocID</kbd> is required, as the same name can occur in both spaces.
If no <kbd class="kbd">name</kbd> is included,
all operative variables in the name space are displayed.
In this case only, if the <code class="code"><kbd class="kbd">assocID</kbd></code> is omitted, it is assumed zero.
Multiple names are specified with comma separators and without whitespace.
Note that time values are represented in milliseconds and
frequency values in parts-per-million (PPM).
Some NTP timestamps are represented in the format YYYYMMDDTTTT,
where YYYY is the year, MM the month of year, DD the day of month and
TTTT the time of day.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="saveconfig"></a><code class="code">saveconfig <kbd class="kbd">filename</kbd></code></code></dt>
<dd><p>Write the current configuration, including any runtime modifications
given with <code class="code">:config</code> or <code class="code">config-from-file</code>,
to the ntpd host&rsquo;s file <kbd class="kbd">filename</kbd>.
This command will be rejected by the server unless
<a class="url" href="miscopt.html#saveconfigdir">saveconfigdir</a>
appears in the <code class="code">ntpd</code> configuration file.
<kbd class="kbd">filename</kbd> can use <code class="code">strftime()</code> format specifiers
to substitute the current date and time, for example,
<code class="code">saveconfig ntp-%Y%m%d-%H%M%S.conf</code>.
The filename used is stored in system variable <code class="code">savedconfig</code>.
Authentication is required.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="writevar"></a>writevar <kbd class="kbd">assocID</kbd> <kbd class="kbd">name</kbd> = <kbd class="kbd">value</kbd> [,...]</code></dt>
<dd><p>Write the specified variables.
If the <code class="code"><kbd class="kbd">assocID</kbd></code> is zero, the variables are from the
&lsquo;system variables&rsquo; name space, otherwise they are from the
&lsquo;peer variables&rsquo; name	space.
The <code class="code"><kbd class="kbd">assocID</kbd></code> is required,
as the same name can occur in both spaces.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="sysinfo"></a><code class="code">sysinfo</code></code></dt>
<dd><p>Display operational summary.
</p>
</dd>
<dt><code class="code"><a class="anchor" id="sysstats"></a><code class="code">sysstats</code></code></dt>
<dd><p>Print statistics counters maintained in the protocol module.
</p>
</dd>
</dl>

<hr>
</div>
<div class="section-level-extent" id="Status-Words-and-Kiss-Codes">
<div class="nav-panel">
<p>
Next: <a href="#System-Variables" accesskey="n" rel="next">System Variables</a>, Previous: <a href="#Control-Message-Commands" accesskey="p" rel="prev">Control Message Commands</a>, Up: <a href="#Top" accesskey="u" rel="up">ntpq: Network Time Protocol Query User Manual</a> &nbsp; </p>
</div>
<h3 class="section" id="Status-Words-and-Kiss-Codes-2"><span>1.5 Status Words and Kiss Codes<a class="copiable-link" href="#Status-Words-and-Kiss-Codes-2"> &para;</a></span></h3>

<p>The current state of the operating program is shown
in a set of status words maintained by the system
and each association separately.
These words are displayed in the <code class="code">rv</code> and <code class="code">as</code> commands
both in hexadecimal and decoded short tip strings.
The codes, tips and short explanations are on the
<a class="url" href="decode.html">Event Messages and Status Words</a> page.
The page also includes a list of system and peer messages,
the code for the latest of which is included in the status word.
</p>
<p>Information resulting from protocol machine state transitions
is displayed using an informal set of ASCII strings called
<a class="url" href="decode.html#kiss">kiss codes</a>.
The original purpose was for kiss-o&rsquo;-death (KoD) packets sent
by the server to advise the client of an unusual condition.
They are now displayed, when appropriate,
in the reference identifier field in various billboards.
</p>
<hr>
</div>
<div class="section-level-extent" id="System-Variables">
<div class="nav-panel">
<p>
Next: <a href="#Peer-Variables" accesskey="n" rel="next">Peer Variables</a>, Previous: <a href="#Status-Words-and-Kiss-Codes" accesskey="p" rel="prev">Status Words and Kiss Codes</a>, Up: <a href="#Top" accesskey="u" rel="up">ntpq: Network Time Protocol Query User Manual</a> &nbsp; </p>
</div>
<h3 class="section" id="System-Variables-2"><span>1.6 System Variables<a class="copiable-link" href="#System-Variables-2"> &para;</a></span></h3>

<p>The following system variables appear in the <code class="code">rv</code> billboard.
Not all variables are displayed in some configurations.
</p>
<table class="multitable">
<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
<tbody><tr><td width="10%"><code class="code">status</code></td><td width="20%"><a class="url" href="decode.html#sys">system status word</a></td></tr>
<tr><td width="10%"><code class="code">version</code></td><td width="20%">NTP software version and build time</td></tr>
<tr><td width="10%"><code class="code">processor</code></td><td width="20%">hardware platform and version</td></tr>
<tr><td width="10%"><code class="code">system</code></td><td width="20%">operating system and version</td></tr>
<tr><td width="10%"><code class="code">leap</code></td><td width="20%">leap warning indicator (0-3)</td></tr>
<tr><td width="10%"><code class="code">stratum</code></td><td width="20%">stratum (1-15)</td></tr>
<tr><td width="10%"><code class="code">precision</code></td><td width="20%">precision (log(2) s)</td></tr>
<tr><td width="10%"><code class="code">rootdelay</code></td><td width="20%">total roundtrip delay to the primary reference clock</td></tr>
<tr><td width="10%"><code class="code">rootdisp</code></td><td width="20%">total dispersion to the primary reference clock</td></tr>
<tr><td width="10%"><code class="code">peer</code></td><td width="20%">system peer association ID</td></tr>
<tr><td width="10%"><code class="code">tc</code>
time constant and poll exponent (log(2) s) (3-17)</td></tr>
<tr><td width="10%"><code class="code">mintc</code>
minimum time constant (log(2) s) (3-10)</td></tr>
<tr><td width="10%"><code class="code">clock</code></td><td width="20%">date and time of day</td></tr>
<tr><td width="10%"><code class="code">refid</code>
reference ID or <a class="url" href="decode.html#kiss">kiss code</a></td></tr>
<tr><td width="10%"><code class="code">reftime</code></td><td width="20%">reference time</td></tr>
<tr><td width="10%"><code class="code">offset</code></td><td width="20%">combined offset of server relative to this host</td></tr>
<tr><td width="10%"><code class="code">sys_jitter</code></td><td width="20%">combined system jitter</td></tr>
<tr><td width="10%"><code class="code">frequency</code></td><td width="20%">frequency offset (PPM) relative to hardware clock</td></tr>
<tr><td width="10%"><code class="code">clk_wander</code></td><td width="20%">clock frequency wander (PPM)</td></tr>
<tr><td width="10%"><code class="code">clk_jitter</code></td><td width="20%">clock jitter</td></tr>
<tr><td width="10%"><code class="code">tai</code></td><td width="20%">TAI-UTC offset (s)</td></tr>
<tr><td width="10%"><code class="code">leapsec</code></td><td width="20%">NTP seconds when the next leap second is/was inserted</td></tr>
<tr><td width="10%"><code class="code">expire</code></td><td width="20%">NTP seconds when the NIST leapseconds file expires</td></tr>
</tbody>
</table>

<p>The jitter and wander statistics are exponentially-weighted RMS averages.
The system jitter is defined in the NTPv4 specification;
the clock jitter statistic is computed by the clock discipline module.
</p>
<p>When the NTPv4 daemon is compiled with the OpenSSL software library,
additional system variables are displayed, including some or all of the
following, depending on the particular Autokey dance:
</p>
<table class="multitable">
<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
<tbody><tr><td width="10%"><code class="code">host</code></td><td width="20%">Autokey host name for this host</td></tr>
<tr><td width="10%"><code class="code">ident</code></td><td width="20%">Autokey group name for this host</td></tr>
<tr><td width="10%"><code class="code">flags</code></td><td width="20%">host flags  (see Autokey specification)</td></tr>
<tr><td width="10%"><code class="code">digest</code></td><td width="20%">OpenSSL message digest algorithm</td></tr>
<tr><td width="10%"><code class="code">signature</code></td><td width="20%">OpenSSL digest/signature scheme</td></tr>
<tr><td width="10%"><code class="code">update</code></td><td width="20%">NTP seconds at last signature update</td></tr>
<tr><td width="10%"><code class="code">cert</code></td><td width="20%">certificate subject, issuer and certificate flags</td></tr>
<tr><td width="10%"><code class="code">until</code></td><td width="20%">NTP seconds when the certificate expires</td></tr>
</tbody>
</table>

<hr>
</div>
<div class="section-level-extent" id="Peer-Variables">
<div class="nav-panel">
<p>
Next: <a href="#Clock-Variables" accesskey="n" rel="next">Clock Variables</a>, Previous: <a href="#System-Variables" accesskey="p" rel="prev">System Variables</a>, Up: <a href="#Top" accesskey="u" rel="up">ntpq: Network Time Protocol Query User Manual</a> &nbsp; </p>
</div>
<h3 class="section" id="Peer-Variables-2"><span>1.7 Peer Variables<a class="copiable-link" href="#Peer-Variables-2"> &para;</a></span></h3>

<p>The following peer variables appear in the <code class="code">rv</code> billboard
for each association.
Not all variables are displayed in some configurations.
</p>
<table class="multitable">
<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
<tbody><tr><td width="10%"><code class="code">associd</code></td><td width="20%">association ID</td></tr>
<tr><td width="10%"><code class="code">status</code></td><td width="20%"><a class="url" href="decode.html#peer">peer status word</a></td></tr>
<tr><td width="10%"><code class="code">srcadr</code></td><td width="20%">source (remote) IP address and port</td></tr>
<tr><td width="10%"><code class="code">dstadr</code></td><td width="20%">destination (local) IP address and port</td></tr>
<tr><td width="10%"><code class="code">leap</code></td><td width="20%">leap indicator (0-3)</td></tr>
<tr><td width="10%"><code class="code">stratum</code></td><td width="20%">stratum (0-15)</td></tr>
<tr><td width="10%"><code class="code">precision</code></td><td width="20%">precision (log(2) s)</td></tr>
<tr><td width="10%"><code class="code">rootdelay</code></td><td width="20%">total roundtrip delay to the primary reference clock</td></tr>
<tr><td width="10%"><code class="code">rootdisp</code></td><td width="20%">total root dispersion to the primary reference clock</td></tr>
<tr><td width="10%"><code class="code">refid</code></td><td width="20%">reference ID or <a class="url" href="decode.html#kiss">kiss code</a></td></tr>
<tr><td width="10%"><code class="code">reftime</code></td><td width="20%">reference time</td></tr>
<tr><td width="10%"><code class="code">reach</code></td><td width="20%">reach register (octal)</td></tr>
<tr><td width="10%"><code class="code">unreach</code></td><td width="20%">unreach counter</td></tr>
<tr><td width="10%"><code class="code">hmode</code></td><td width="20%">host mode (1-6)</td></tr>
<tr><td width="10%"><code class="code">pmode</code></td><td width="20%">peer mode (1-5)</td></tr>
<tr><td width="10%"><code class="code">hpoll</code></td><td width="20%">host poll exponent (log(2) s) (3-17)</td></tr>
<tr><td width="10%"><code class="code">ppoll</code></td><td width="20%">peer poll exponent (log(2) s) (3-17)</td></tr>
<tr><td width="10%"><code class="code">headway</code></td><td width="20%">headway (see <a class="url" href="rate.html">Rate Management and the Kiss-o&rsquo;-Death Packet</a>)</td></tr>
<tr><td width="10%"><code class="code">flash</code></td><td width="20%"><a class="url" href="decode.html#flash">flash status word</a></td></tr>
<tr><td width="10%"><code class="code">offset</code></td><td width="20%">filter offset</td></tr>
<tr><td width="10%"><code class="code">delay</code></td><td width="20%">filter delay</td></tr>
<tr><td width="10%"><code class="code">dispersion</code></td><td width="20%">filter dispersion</td></tr>
<tr><td width="10%"><code class="code">jitter</code></td><td width="20%">filter jitter</td></tr>
<tr><td width="10%"><code class="code">ident</code></td><td width="20%">Autokey group name for this association</td></tr>
<tr><td width="10%"><code class="code">bias</code></td><td width="20%">unicast/broadcast bias</td></tr>
<tr><td width="10%"><code class="code">xleave</code></td><td width="20%">interleave delay (see <a class="url" href="xleave.html">NTP Interleaved Modes</a>)</td></tr>
</tbody>
</table>

<p>The bias variable is calculated when the first broadcast packet is received
after the calibration volley.  It represents the offset of the broadcast
subgraph relative to the unicast subgraph.  The xleave variable appears
only the interleaved symmetric and interleaved modes.  It represents
the internal queuing, buffering and transmission delays for the preceding
packet.
</p>
<p>When the NTPv4 daemon is compiled with the OpenSSL software library,
additional peer variables are displayed, including the following:
</p>
<table class="multitable">
<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
<tbody><tr><td width="10%"><code class="code">flags</code></td><td width="20%">peer flags (see Autokey specification)</td></tr>
<tr><td width="10%"><code class="code">host</code></td><td width="20%">Autokey server name</td></tr>
<tr><td width="10%"><code class="code">flags</code></td><td width="20%">peer flags (see Autokey specification)</td></tr>
<tr><td width="10%"><code class="code">signature</code></td><td width="20%">OpenSSL digest/signature scheme</td></tr>
<tr><td width="10%"><code class="code">initsequence</code></td><td width="20%">initial key ID</td></tr>
<tr><td width="10%"><code class="code">initkey</code></td><td width="20%">initial key index</td></tr>
<tr><td width="10%"><code class="code">timestamp</code></td><td width="20%">Autokey signature timestamp</td></tr>
</tbody>
</table>

<hr>
</div>
<div class="section-level-extent" id="Clock-Variables">
<div class="nav-panel">
<p>
Previous: <a href="#Peer-Variables" accesskey="p" rel="prev">Peer Variables</a>, Up: <a href="#Top" accesskey="u" rel="up">ntpq: Network Time Protocol Query User Manual</a> &nbsp; </p>
</div>
<h3 class="section" id="Clock-Variables-2"><span>1.8 Clock Variables<a class="copiable-link" href="#Clock-Variables-2"> &para;</a></span></h3>

<p>The following clock variables appear in the <code class="code">cv</code> billboard for each association with a reference clock.  Not all variables are displayed in some configurations.
</p>
<table class="multitable">
<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
<tbody><tr><td width="10%"><code class="code">associd</code></td><td width="20%">association ID</td></tr>
<tr><td width="10%"><code class="code">status</code></td><td width="20%"><a class="url" href="decode.html#clock">clock status word</a></td></tr>
<tr><td width="10%"><code class="code">device</code></td><td width="20%">device description</td></tr>
<tr><td width="10%"><code class="code">timecode</code></td><td width="20%">ASCII time code string (specific to device)</td></tr>
<tr><td width="10%"><code class="code">poll</code></td><td width="20%">poll messages sent</td></tr>
<tr><td width="10%"><code class="code">noreply</code></td><td width="20%">no reply</td></tr>
<tr><td width="10%"><code class="code">badformat</code></td><td width="20%">bad format</td></tr>
<tr><td width="10%"><code class="code">baddata</code></td><td width="20%">bad date or time</td></tr>
<tr><td width="10%"><code class="code">fudgetime1</code></td><td width="20%">fudge time 1</td></tr>
<tr><td width="10%"><code class="code">fudgetime2</code></td><td width="20%">fudge time 2</td></tr>
<tr><td width="10%"><code class="code">stratum</code></td><td width="20%">driver stratum</td></tr>
<tr><td width="10%"><code class="code">refid</code></td><td width="20%">driver reference ID</td></tr>
<tr><td width="10%"><code class="code">flags</code></td><td width="20%">driver flags</td></tr>
</tbody>
</table>
</div>
</div>
</div>



</body>
</html>
